!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,function(e){return t[e]}.bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=334)}([function(t,e,n){var i=n(1),r=n(7),o=n(14),s=n(11),a=n(17),u="prototype",c=function(t,e,n){var l,h,d,f,p=t&c.F,g=t&c.G,m=t&c.S,v=t&c.P,y=t&c.B,b=g?i:m?i[e]||(i[e]={}):(i[e]||{})[u],w=g?r:r[e]||(r[e]={}),S=w[u]||(w[u]={});for(l in g&&(n=e),n)d=((h=!p&&b&&void 0!==b[l])?b:n)[l],f=y&&h?a(d,i):v&&"function"==typeof d?a(Function.call,d):d,b&&s(b,l,d,t&c.U),w[l]!=d&&o(w,l,f),v&&S[l]!=d&&(S[l]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(48)("wks"),r=n(29),o=n(1).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(19),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,e,n){t.exports=!n(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(3),r=n(89),o=n(26),s=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(24);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(1),r=n(14),o=n(13),s=n(29)("src"),a=n(138),u="toString",c=(""+a).split(u);n(7).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]===n||(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(e+""))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var i=n(0),r=n(2),o=n(24),s=/"/g,a=function(t,e,n,i){var r=o(t)+"",a="<"+e;return""!==n&&(a+=" "+n+'="'+(i+"").replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length})),"String",n)}},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,e,n){var i=n(9),r=n(28);t.exports=n(8)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(44),r=n(24);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";var i=n(2);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var i=n(18);t.exports=function(t,e,n){return i(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:3===n?function(n,i,r){return t.call(e,n,i,r)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t,e,n){var i=n(45),r=n(28),o=n(15),s=n(26),a=n(13),u=n(89),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(e){}return a(t,e)?r(!i.f.call(t,e),t[e]):void 0}},function(t,e,n){var i=n(0),r=n(7),o=n(2);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var i=n(17),r=n(44),o=n(10),s=n(6),a=n(105);t.exports=function(t,e){var n=1==t,u=4==t,c=6==t,l=e||a;return function(e,a,h){for(var d,f,p=o(e),g=r(p),m=i(a,h,3),v=s(g.length),y=0,b=n?l(e,v):2==t?l(e,0):void 0;v>y;y++)if((5==t||c||y in g)&&(f=m(d=g[y],y,p),t))if(n)b[y]=f;else if(f)switch(t){case 3:return!0;case 5:return d;case 6:return y;case 2:b.push(d)}else if(u)return!1;return c?-1:3==t||u?u:b}}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(8)){var i=n(30),r=n(1),o=n(2),s=n(0),a=n(59),u=n(85),c=n(17),l=n(42),h=n(28),d=n(14),f=n(43),p=n(19),g=n(6),m=n(116),v=n(32),y=n(26),b=n(13),w=n(46),S=n(4),M=n(10),x=n(77),E=n(33),k=n(35),C=n(34).f,O=n(79),_=n(29),T=n(5),A=n(22),I=n(49),P=n(47),N=n(81),R=n(40),F=n(52),B=n(41),L=n(80),j=n(107),D=n(9),U=n(20),V=D.f,z=U.f,G=r.RangeError,H=r.TypeError,W=r.Uint8Array,K="ArrayBuffer",q="Shared"+K,J="BYTES_PER_ELEMENT",Y="prototype",X=Array[Y],$=u.ArrayBuffer,Q=u.DataView,Z=A(0),tt=A(2),et=A(3),nt=A(4),it=A(5),rt=A(6),ot=I(!0),st=I(!1),at=N.values,ut=N.keys,ct=N.entries,lt=X.lastIndexOf,ht=X.reduce,dt=X.reduceRight,ft=X.join,pt=X.sort,gt=X.slice,mt=X.toString,vt=X.toLocaleString,yt=T("iterator"),bt=T("toStringTag"),wt=_("typed_constructor"),St=_("def_constructor"),Mt=a.CONSTR,xt=a.TYPED,Et=a.VIEW,kt="Wrong length!",Ct=A(1,(function(t,e){return It(P(t,t[St]),e)})),Ot=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),_t=!!W&&!!W[Y].set&&o((function(){new W(1).set({})})),Tt=function(t,e){var n=p(t);if(0>n||n%e)throw G("Wrong offset!");return n},At=function(t){if(S(t)&&xt in t)return t;throw H(t+" is not a typed array!")},It=function(t,e){if(!S(t)||!(wt in t))throw H("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return Nt(P(t,t[St]),e)},Nt=function(t,e){for(var n=0,i=e.length,r=It(t,i);i>n;)r[n]=e[n++];return r},Rt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Ft=function(t){var e,n,i,r,o,s,a=M(t),u=arguments.length,l=1<u?arguments[1]:void 0,h=void 0!==l,d=O(a);if(null!=d&&!x(d)){for(s=d.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&2<u&&(l=c(l,arguments[2],2)),e=0,n=g(a.length),r=It(this,n);n>e;e++)r[e]=h?l(a[e],e):a[e];return r},Bt=function(){for(var t=0,e=arguments.length,n=It(this,e);e>t;)n[t]=arguments[t++];return n},Lt=!!W&&o((function(){vt.call(new W(1))})),jt=function(){return vt.apply(Lt?gt.call(At(this)):At(this),arguments)},Dt={copyWithin:function(t,e){return j.call(At(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return nt(At(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(){return L.apply(At(this),arguments)},filter:function(t){return Pt(this,tt(At(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return it(At(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return rt(At(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){Z(At(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return st(At(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return ot(At(this),t,1<arguments.length?arguments[1]:void 0)},join:function(){return ft.apply(At(this),arguments)},lastIndexOf:function(){return lt.apply(At(this),arguments)},map:function(t){return Ct(At(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(){return ht.apply(At(this),arguments)},reduceRight:function(){return dt.apply(At(this),arguments)},reverse:function(){for(var t,e=this,n=At(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return et(At(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return pt.call(At(this),t)},subarray:function(t,e){var n=At(this),i=n.length,r=v(t,i);return new(P(n,n[St]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,g((void 0===e?i:v(e,i))-r))}},Ut=function(t,e){return Pt(this,gt.call(At(this),t,e))},Vt=function(t){At(this);var e=Tt(arguments[1],1),n=this.length,i=M(t),r=g(i.length),o=0;if(r+e>n)throw G(kt);for(;o<r;)this[e+o]=i[o++]},zt={entries:function(){return ct.call(At(this))},keys:function(){return ut.call(At(this))},values:function(){return at.call(At(this))}},Gt=function(t,e){return S(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&+e+""==e+""},Ht=function(t,e){return Gt(t,e=y(e,!0))?h(2,t[e]):z(t,e)},Wt=function(t,e,n){return!(Gt(t,e=y(e,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};Mt||(U.f=Ht,D.f=Wt),s(s.S+s.F*!Mt,"Object",{getOwnPropertyDescriptor:Ht,defineProperty:Wt}),o((function(){mt.call({})}))&&(mt=vt=function(){return ft.call(this)});var Kt=f({},Dt);f(Kt,zt),d(Kt,yt,zt.values),f(Kt,{slice:Ut,set:Vt,constructor:function(){},toString:mt,toLocaleString:jt}),Rt(Kt,"buffer","b"),Rt(Kt,"byteOffset","o"),Rt(Kt,"byteLength","l"),Rt(Kt,"length","e"),V(Kt,bt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",h=r[c],f=h||{},p=h&&k(h),v=!h||!a.ABV,y={},b=h&&h[Y],M=function(n,i){var r=n._d;return r.v["get"+t](i*e+r.o,Ot)},x=function(n,i,r){var o=n._d;u&&(r=0>(r=Math.round(r))?0:255<r?255:255&r),o.v["set"+t](i*e+o.o,r,Ot)},O=function(t,e){V(t,e,{get:function(){return M(this,e)},set:function(t){return x(this,e,t)},enumerable:!0})};v?(h=n((function(t,n,i,r){l(t,h,c,"_d");var o,s,a,u,f=0,p=0;if(S(n)){if(!(n instanceof $||(u=w(n))==K||u==q))return xt in n?Nt(h,n):Ft.call(h,n);o=n,p=Tt(i,e);var v=n.byteLength;if(void 0===r){if(v%e)throw G(kt);if(0>(s=v-p))throw G(kt)}else if((s=g(r)*e)+p>v)throw G(kt);a=s/e}else a=m(n),o=new $(s=a*e);for(d(t,"_d",{b:o,o:p,l:s,e:a,v:new Q(o)});f<a;)O(t,f++)})),b=h[Y]=E(Kt),d(b,"constructor",h)):(!o((function(){h(1)}))||!o((function(){new h(-1)}))||!F((function(t){new h,new h(null),new h(1.5),new h(t)}),!0))&&(h=n((function(t,n,i,r){var o;return l(t,h,c),S(n)?n instanceof $||(o=w(n))==K||o==q?void 0===r?void 0===i?new f(n):new f(n,Tt(i,e)):new f(n,Tt(i,e),r):xt in n?Nt(h,n):Ft.call(h,n):new f(m(n))})),Z(p===Function.prototype?C(f):C(f).concat(C(p)),(function(t){t in h||d(h,t,f[t])})),h[Y]=b,!i&&(b.constructor=h));var _=b[yt],T=!!_&&("values"==_.name||null==_.name),A=zt.values;d(h,wt,!0),d(b,xt,c),d(b,Et,!0),d(b,St,h),(u?new h(1)[bt]!=c:!(bt in b))&&V(b,bt,{get:function(){return c}}),y[c]=h,s(s.G+s.W+s.F*(h!=f),y),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){f.of.call(h,1)})),c,{from:Ft,of:Bt}),J in b||d(b,J,e),s(s.P,c,Dt),B(c),s(s.P+s.F*_t,c,{set:Vt}),s(s.P+s.F*!T,c,zt),i||b.toString==mt||(b.toString=mt),s(s.P+s.F*o((function(){new h(1).slice()})),c,{slice:Ut}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){b.toLocaleString.call([1,2])}))),c,{toLocaleString:jt}),R[c]=T?_:A,i||T||d(b,yt,A)}}else t.exports=function(){}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(29)("meta"),r=n(4),o=n(13),s=n(9).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(2)((function(){return u(Object.preventExtensions({}))})),l=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,i)&&l(t),t}}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t){t.exports=!1},function(t,e,n){var i=n(91),r=n(64);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(19),r=Math.max,o=Math.min;t.exports=function(t,e){return 0>(t=i(t))?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(3),r=n(92),o=n(64),s=n(63)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(61)("iframe"),i=o.length;for(e.style.display="none",n(65).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;i--;)delete c[u][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null===t?n=c():(a[u]=i(t),n=new a,a[u]=null,n[s]=t),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(91),r=n(64).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(13),r=n(10),o=n(63)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var i=n(5)("unscopables"),r=Array.prototype;null==r[i]&&n(14)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i=n(9).f,r=n(13),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(0),r=n(24),o=n(2),s=n(67),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(t,e,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),u=r[t]=a?e(h):s[t];n&&(r[n]=u),i(i.P+i.F*a,"String",r)},h=l.trim=function(t,e){return t=r(t)+"",1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t){t.exports={}},function(t,e,n){"use strict";var i=n(1),r=n(9),o=n(8),s=n(5)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(11);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){var i=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(23),r=n(5)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(e){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(3),r=n(18),o=n(5)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},function(t,e,n){var i=n(7),r=n(1),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0===e?{}:e)})("versions",[]).push({version:i.version,mode:n(30)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(15),r=n(6),o=n(32);t.exports=function(t){return function(e,n,s){var a,u=i(e),c=r(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(23);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(5)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(e){}return n}},function(t,e,n){"use strict";var i=n(3);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(46),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(109);var i=n(11),r=n(14),o=n(2),s=n(24),a=n(5),u=n(82),c=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=a(t),f=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=f?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e})):void 0;if(!f||!p||"replace"===t&&!l||"split"===t&&!h){var g=/./[d],m=n(s,d,""[t],(function(t,e,n,i,r){return e.exec===u?f&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=m[0],y=m[1];i(String.prototype,t,v),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var i=n(17),r=n(104),o=n(77),s=n(3),a=n(6),u=n(79),c={},l={};(e=t.exports=function(t,e,n,h,d){var f,p,g,m,v=d?function(){return t}:u(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=a(t.length);f>b;b++)if((m=e?y(s(p=t[b])[0],p[1]):y(t[b]))===c||m===l)return m}else for(g=v.call(t);!(p=g.next()).done;)if((m=r(g,y,p.value,e))===c||m===l)return m}).BREAK=c,e.RETURN=l},function(t,e,n){var i=n(1).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(1),r=n(0),o=n(11),s=n(43),a=n(27),u=n(56),c=n(42),l=n(4),h=n(2),d=n(52),f=n(38),p=n(68);t.exports=function(t,e,n,g,m,v){var y=i[t],b=y,w=m?"set":"add",S=b&&b.prototype,M={},x=function(t){var e=S[t];o(S,t,"delete"==t||"has"==t?function(t){return(!v||l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||S.forEach&&!h((function(){(new b).entries().next()})))){var E=new b,k=E[w](v?{}:-0,1)!=E,C=h((function(){E.has(1)})),O=d((function(t){new b(t)})),_=!v&&h((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));O||((b=e((function(e,n){c(e,b,t);var i=p(new y,e,b);return null!=n&&u(n,m,i[w],i),i}))).prototype=S,S.constructor=b),(C||_)&&(x("delete"),x("has"),m&&x("get")),(_||k)&&x(w),v&&S.clear&&delete S.clear}else b=g.getConstructor(e,t,m,w),s(b.prototype,n),a.NEED=!0;return f(b,t),M[t]=b,r(r.G+r.W+r.F*(b!=y),M),v||g.setStrong(b,t,m),b}},function(t,e,n){for(var i,r=n(1),o=n(14),s=n(29),a=s("typed_array"),u=s("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,h=0,d=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];h<9;)(i=r[d[h++]])?(o(i.prototype,a,!0),o(i.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,n){"use strict";(function(t,i){n.d(e,"a",(function(){return r})),function(e){if("function"==typeof bootstrap)bootstrap("hark",e);else if("object"==typeof exports)t.exports=e();else if("function"==typeof define&&n(332))define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeHark=e}else"undefined"==typeof window?i.hark=e():window.hark=e()}((function(){return function(t,e,n){function i(n,o){if(!e[n]){if(!t[n]){if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=e[n]={exports:{}};t[n][0].call(s.exports,(function(e){var r=t[n][1][e];return i(r||e)}),s,s.exports)}return e[n].exports}for(var r=!1,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e){var n,i=t("wildemitter");"undefined"!=typeof window&&(n=window.AudioContext||window.webkitAudioContext);var r=null;e.exports=function(t,e){var o=new i;if(!n)return o;var s,a,u,c=(e=e||{}).smoothing||.1,l=e.interval||50,h=e.threshold,d=e.play,f=e.history||10,p=!0;r=e.audioContext||r||new n,(u=r.createAnalyser()).fftSize=512,u.smoothingTimeConstant=c,a=new Float32Array(u.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(s=r.createMediaElementSource(t),void 0===d&&(d=!0),h=h||-50):(s=r.createMediaStreamSource(t),h=h||-50),s.connect(u),d&&u.connect(r.destination),o.speaking=!1,o.getThreshold=function(){return h},o.suspend=function(){return r.suspend()},o.resume=function(){return r.resume()},Object.defineProperty(o,"state",{get:function(){return r.state}}),r.onstatechange=function(){o.emit("state_change",r.state)},o.setThreshold=function(t){h=t},o.setInterval=function(t){l=t},o.stop=function(){p=!1,o.emit("volume_change",-100,h),o.speaking&&(o.speaking=!1,o.emit("stopped_speaking")),u.disconnect(),s.disconnect()},o.speakingHistory=[];for(var g=0;g<f;g++)o.speakingHistory.push(0);var m=function(){setTimeout((function(){if(p){var t=function(t,e){var n=-1/0;t.getFloatFrequencyData(e);for(var i=4,r=e.length;i<r;i++)e[i]>n&&0>e[i]&&(n=e[i]);return n}(u,a);o.emit("volume_change",t,h);var e=0;if(t>h&&!o.speaking){for(var n=o.speakingHistory.length-3;n<o.speakingHistory.length;n++)e+=o.speakingHistory[n];2<=e&&(o.speaking=!0,o.emit("speaking"))}else if(t<h&&o.speaking){for(n=0;n<o.speakingHistory.length;n++)e+=o.speakingHistory[n];0==e&&(o.speaking=!1,o.emit("stopped_speaking"))}o.speakingHistory.shift(),o.speakingHistory.push(0+(t>h)),m()}}),l)};return m(),o}},{wildemitter:2}],2:[function(t,e){function n(){}e.exports=n,n.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(t){this.callbacks=this.callbacks||{};var e=3===arguments.length,n=e?arguments[1]:void 0,i=e?arguments[2]:arguments[1];return i._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(i),this},e.once=function(t){function e(){n.off(t,e),o.apply(this,arguments)}var n=this,i=3===arguments.length,r=i?arguments[1]:void 0,o=i?arguments[2]:arguments[1];return this.on(t,r,e),this},e.releaseGroup=function(t){var e,n,i,r;for(e in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,i=(r=this.callbacks[e]).length;n<i;n++)r[n]._groupName===t&&(r.splice(n,1),n--,i--);return this},e.off=function(t,e){this.callbacks=this.callbacks||{};var n,i=this.callbacks[t];return i?1===arguments.length?(delete this.callbacks[t],this):(n=i.indexOf(e),i.splice(n,1),0===i.length&&delete this.callbacks[t],this):this},e.emit=function(t){this.callbacks=this.callbacks||{};var e,n,i,r=[].slice.call(arguments,1),o=this.callbacks[t],s=this.getWildcardCallbacks(t);if(o)for(e=0,n=(i=o.slice()).length;e<n&&i[e];++e)i[e].apply(this,r);if(s)for(n=s.length,e=0,n=(i=s.slice()).length;e<n&&i[e];++e)i[e].apply(this,[t].concat(r));return this},e.getWildcardCallbacks=function(t){this.callbacks=this.callbacks||{};var e,n,i=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[0].length)===n[0])&&(i=i.concat(this.callbacks[e]));return i}},n.mixin(n)},{}]},{},[1])(1)}));const r=window.hark}).call(this,n(130)(t),n(331))},function(t,e,n){var i=n(4),r=n(1).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){e.f=n(5)},function(t,e,n){var i=n(48)("keys"),r=n(29);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var i=n(1).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(4),r=n(3),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(17)(Function.call,n(20).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(4),r=n(66).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i=n(19),r=n(24);t.exports=function(t){var e=r(this)+"",n="",o=i(t);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;0<o;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},function(t){var e=Math.expm1;t.exports=!e||22025.465794806718<e(10)||22025.465794806718>e(10)||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&1e-6>t?t+t*t/2:Math.exp(t)-1}:e},function(t,e,n){var i=n(19),r=n(24);t.exports=function(t){return function(e,n){var o,s,a=r(e)+"",u=i(n),c=a.length;return 0>u||u>=c?t?"":void 0:55296>(o=a.charCodeAt(u))||56319<o||u+1===c||56320>(s=a.charCodeAt(u+1))||57343<s?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(30),r=n(0),o=n(11),s=n(14),a=n(40),u=n(103),c=n(38),l=n(35),h=n(5)("iterator"),d=!([].keys&&"next"in[].keys()),f="keys",p="values",g=function(){return this};t.exports=function(t,e,n,m,v,y,b){u(n,e,m);var w,S,M,x=function(t){return!d&&t in O?O[t]:function(){return new n(this,t)}},E=e+" Iterator",k=v==p,C=!1,O=t.prototype,_=O[h]||O["@@iterator"]||v&&O[v],T=_||x(v),A=v?k?x("entries"):T:void 0,I="Array"==e&&O.entries||_;if(I&&((M=l(I.call(new t)))!==Object.prototype&&M.next&&(c(M,E,!0),!i&&"function"!=typeof M[h]&&s(M,h,g))),k&&_&&_.name!==p&&(C=!0,T=function(){return _.call(this)}),(!i||b)&&(d||C||!O[h])&&s(O,h,T),a[e]=T,a[E]=g,v)if(w={values:k?T:x(p),keys:y?T:x(f),entries:A},b)for(S in w)S in O||o(O,S,w[S]);else r(r.P+r.F*(d||C),e,w);return w}},function(t,e,n){var i=n(75),r=n(24);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return r(t)+""}},function(t,e,n){var i=n(4),r=n(23),o=n(5)("match");t.exports=function(t){var e;return i(t)&&(void 0===(e=t[o])?"RegExp"==r(t):!!e)}},function(t,e,n){var i=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(40),r=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(9),r=n(28);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(46),r=n(5)("iterator"),o=n(40);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(10),r=n(32),o=n(6);t.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(1<s?arguments[1]:void 0,n),u=2<s?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var i=n(36),r=n(108),o=n(40),s=n(15);t.exports=n(73)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(53),r=RegExp.prototype.exec,o=String.prototype.replace,s=r,a="lastIndex",u=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[a]||0!==e[a]}(),c=void 0!==/()??/.exec("")[1];(u||c)&&(s=function(t){var e,n,s,l,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",i.call(h))),u&&(e=h[a]),s=r.call(h,t),u&&s&&(h[a]=h.global?s.index+s[0].length:e),c&&s&&1<s.length&&o.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},function(t,e,n){"use strict";var i=n(72)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i,r,o,s=n(17),a=n(97),u=n(65),c=n(61),l=n(1),h=l.process,d=l.setImmediate,f=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,m=0,v={},y="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},w=function(t){b.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},i(m),m},f=function(t){delete v[t]},"process"==n(23)(h)?i=function(t){h.nextTick(s(b,t,1))}:g&&g.now?i=function(t){g.now(s(b,t,1))}:p?(o=(r=new p).port2,r.port1.onmessage=w,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",w,!1)):i=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){"use strict";function i(t,e,n){var i,r,o,s=Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?U(2,-24)-U(2,-77):0,h=0,d=0>t||0===t&&0>1/t?1:0;for((t=D(t))!=t||t===L?(r=t==t?0:1,i=u):(i=V(z(t)/G),1>t*(o=U(2,-i))&&(i--,o*=2),2<=(t+=1<=i+c?l/o:l*U(2,1-c))*o&&(i++,o/=2),i+c>=u?(r=0,i=u):1<=i+c?(r=(t*o-1)*U(2,e),i+=c):(r=t*U(2,c-1)*U(2,e),i=0));8<=e;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;0<a;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*d,s}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;0<a;l=256*l+t[u],u--,a-=8);for(i=l&(1<<-a)-1,l>>=-a,a+=e;0<a;i=256*i+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return i?NaN:c?-L:L;i+=U(2,e),l-=s}return(c?-1:1)*i*U(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,255&t>>8]}function u(t){return[255&t,255&t>>8,255&t>>16,255&t>>24]}function c(t){return i(t,52,8)}function l(t){return i(t,23,4)}function h(t,e,n){C(t[I],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=E(+n);if(r+e>t[J])throw B(P);var o=t[q]._b,s=r+t[Y],a=o.slice(s,s+e);return i?a:a.reverse()}function f(t,e,n,i,r,o){var s=E(+n);if(s+e>t[J])throw B(P);for(var a=t[q]._b,u=s+t[Y],c=i(+r),l=0;l<e;l++)a[u+l]=c[o?l:e-l-1]}var p=n(1),g=n(8),m=n(30),v=n(59),y=n(14),b=n(43),w=n(2),S=n(42),M=n(19),x=n(6),E=n(116),k=n(34).f,C=n(9).f,O=n(80),_=n(38),T="ArrayBuffer",A="DataView",I="prototype",P="Wrong index!",N=p[T],R=p[A],F=p.Math,B=p.RangeError,L=p.Infinity,j=N,D=F.abs,U=F.pow,V=F.floor,z=F.log,G=F.LN2,H="buffer",W="byteLength",K="byteOffset",q=g?"_b":H,J=g?"_l":W,Y=g?"_o":K;if(v.ABV){if(!w((function(){N(1)}))||!w((function(){new N(-1)}))||w((function(){return new N,new N(1.5),new N(NaN),N.name!=T}))){for(var X,$=(N=function(t){return S(this,N),new j(E(t))})[I]=j[I],Q=k(j),Z=0;Q.length>Z;)(X=Q[Z++])in N||y(N,X,j[X]);m||($.constructor=N)}var tt=new R(new N(2)),et=R[I].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),(tt.getInt8(0)||!tt.getInt8(1))&&b(R[I],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else N=function(t){S(this,N,T);var e=E(t);this._b=O.call(Array(e),0),this[J]=e},R=function(t,e,n){S(this,R,A),S(t,N,A);var i=t[J],r=M(e);if(0>r||r>i)throw B("Wrong offset!");if(r+(n=void 0===n?i-r:x(n))>i)throw B("Wrong length!");this[q]=t,this[Y]=r,this[J]=n},g&&(h(N,W,"_l"),h(R,H,"_b"),h(R,W,"_l"),h(R,K,"_o")),b(R[I],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(d(this,4,t,arguments[1]))},getUint32:function(t){return o(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,s,e)},setUint8:function(t,e){f(this,1,t,s,e)},setInt16:function(t,e){f(this,2,t,a,e,arguments[2])},setUint16:function(t,e){f(this,2,t,a,e,arguments[2])},setInt32:function(t,e){f(this,4,t,u,e,arguments[2])},setUint32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,c,e,arguments[2])}});_(N,T),_(R,A),y(R[I],v.VIEW,!0),e[T]=N,e[A]=R},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(121)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=!n(8)&&!n(2)((function(){return 7!=Object.defineProperty(n(61)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(1),r=n(7),o=n(30),s=n(62),a=n(9).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(13),r=n(15),o=n(49)(!1),s=n(63)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(9),r=n(3),o=n(31);t.exports=n(8)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,u=0;a>u;)i.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var i=n(15),r=n(34).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){"use strict";var i=n(8),r=n(31),o=n(50),s=n(45),a=n(10),u=n(44),c=Object.assign;t.exports=!c||n(2)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i}))?function(t){for(var e=a(t),n=arguments.length,c=1,l=o.f,h=s.f;n>c;)for(var d,f=u(arguments[c++]),p=l?r(f).concat(l(f)):r(f),g=p.length,m=0;g>m;)d=p[m++],(!i||h.call(f,d))&&(e[d]=f[d]);return e}:c},function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(18),r=n(4),o=n(97),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?u(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(1).parseInt,r=n(39).trim,o=n(67),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(t+"",3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e,n){var i=n(1).parseFloat,r=n(39).trim;t.exports=1/i(n(67)+"-0")==-1/0?i:function(t){var e=r(t+"",3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}},function(t,e,n){var i=n(23);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(4),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&1e-8>t?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var i=n(33),r=n(28),o=n(38),s={};n(14)(s,n(5)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(3);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(n){var o=t.return;throw void 0!==o&&i(o.call(t)),n}}},function(t,e,n){var i=n(228);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(18),r=n(10),o=n(44),s=n(6);t.exports=function(t,e,n,a,u){i(e);var c=r(t),l=o(c),h=s(c.length),d=u?h-1:0,f=u?-1:1;if(2>n)for(;;){if(d in l){a=l[d],d+=f;break}if(d+=f,u?0>d:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=d:h>d;d+=f)d in l&&(a=e(a,l[d],d,c));return a}},function(t,e,n){"use strict";var i=n(10),r=n(32),o=n(6);t.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),u=r(e,s),c=2<arguments.length?arguments[2]:void 0,l=Math.min((void 0===c?s:r(c,s))-u,s-a),h=1;for(u<a&&a<u+l&&(h=-1,u+=l-1,a+=l-1);0<l--;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},function(t){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(82);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(8)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(53)})},function(t,e,n){"use strict";var i,r,o,s,a=n(30),u=n(1),c=n(17),l=n(46),h=n(0),d=n(4),f=n(18),p=n(42),g=n(56),m=n(47),v=n(84).set,y=n(248)(),b=n(112),w=n(249),S=n(57),M=n(113),x="Promise",E=u.TypeError,k=u.process,C=k&&k.versions,O=C&&C.v8||"",_=u[x],T="process"==l(k),A=function(){},I=r=b.f,P=!!function(){try{var t=_.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(A,A)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==O.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),N=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},R=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,a=r?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{a?(!r&&(2==t._h&&L(t),t._h=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),s=!0)),n===e.promise?c(E("Promise-chain cycle")):(o=N(n))?o.call(n,u,c):u(n)):c(i)}catch(e){l&&!s&&l.exit(),c(e)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)}))}},F=function(t){v.call(u,(function(){var e,n,i,r=t._v,o=B(t);if(o&&(e=w((function(){T?k.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||B(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},B=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(u,(function(){var e;T?k.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,!e._a&&(e._a=e._c.slice()),R(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=N(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,c(D,i,1),c(j,i,1))}catch(t){j.call(i,t)}})):(n._v=t,n._s=1,R(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};P||(_=function(t){p(this,_,x,"_h"),f(t),i.call(this);try{t(c(D,this,1),c(j,this,1))}catch(t){j.call(this,t)}},(i=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(43)(_.prototype,{then:function(t,e){var n=I(m(this,_));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(D,t,1),this.reject=c(j,t,1)},b.f=I=function(t){return t===_||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!P,{Promise:_}),n(38)(_,x),n(41)(x),s=n(7)[x],h(h.S+h.F*!P,x,{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!P),x,{resolve:function(t){return M(a&&this===s?_:this,t)}}),h(h.S+h.F*!(P&&n(52)((function(t){_.all(t).catch(A)}))),x,{all:function(t){var e=this,n=I(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=I(e),i=n.reject,r=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=r(e),this.reject=r(n)}var r=n(18);t.exports.f=function(t){return new i(t)}},function(t,e,n){var i=n(3),r=n(4),o=n(112);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(9).f,r=n(33),o=n(43),s=n(17),a=n(42),u=n(56),c=n(73),l=n(108),h=n(41),d=n(8),f=n(27).fastKey,p=n(37),g=d?"_s":"size",m=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,i){a(t,l,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,null!=i&&u(i,n,t[c],t)}));return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),i=m(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[g]--}return!!i},forEach:function(t){p(this,e);for(var n,i=s(t,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),d&&i(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,n){var i,r,o=m(t,e);return o?o.v=n:(t._l=o={i:r=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},!t._f&&(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var i=n(43),r=n(27).getWeak,o=n(3),s=n(4),a=n(42),u=n(56),c=n(22),l=n(13),h=n(37),d=c(5),f=c(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return d(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,i){a(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=i&&u(i,n,t[o],t)}));return i(c.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?g(h(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?g(t).set(e,n):i[t._i]=n,t},ufstore:g}},function(t,e,n){var i=n(19),r=n(6);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(34),r=n(50),o=n(3),s=n(1).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(6),r=n(69),o=n(24);t.exports=function(t,e,n,s){var a=o(t)+"",u=a.length,c=void 0===n?" ":n+"",l=i(e);if(l<=u||""==c)return a;var h=l-u,d=r.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},function(t,e,n){var i=n(8),r=n(31),o=n(15),s=n(45).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=r(a),c=u.length,l=0,h=[];c>l;)n=u[l++],(!i||s.call(a,n))&&h.push(t?[n,a[n]]:a[n]);return h}}},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t){t.exports={"border-radius":1,"border-top-left-radius":1,"border-top-right-radius":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"box-shadow":1,order:1,flex:function(t,e){return[e+"box-flex"]},"box-flex":1,"box-align":1,animation:1,"animation-duration":1,"animation-name":1,transition:1,"transition-duration":1,transform:1,"transform-style":1,"transform-origin":1,"backface-visibility":1,perspective:1,"box-pack":1}},function(t){t.exports={animation:1,"column-count":1,columns:1,"font-weight":1,opacity:1,"order  ":1,"z-index":1,zoom:1,flex:1,"box-flex":1,transform:1,perspective:1,"box-pack":1,"box-align":1,colspan:1,rowspan:1}},function(t,e,n){"use strict";n(125);var i=n(321),r=n(128),o=n(127),s=n(129),a=n(326),u=n(327),c=function(t,e,n,r){i(e).forEach((function(e){t[r?r(e):e]=n}))},l={cssUnitless:n(123)},h=function(t,e,n,i){"string"==typeof t&&(t=function(t){t=(t||"").split(";");var e={};return t.forEach((function(t){var n=t.split(":");2==n.length&&(e[n[0].trim()]=n[1].trim())})),e}(t)),(e=e||l).cssUnitless=e.cssUnitless||l.cssUnitless,i=i||{};var d,f,p,g,m,v,y,b,w=e.scope||{},S=null==e.addUnits?!(w&&null!=w.addUnits)||w.addUnits:e.addUnits,M=(null==e.cssUnitless?w?w.cssUnitless:null:e.cssUnitless)||{},x=(e.cssUnit||w?w.cssUnit:null)||"px",E=e.prefixProperties||(w?w.prefixProperties:null)||{},k=e.camelize?o:r;for(p in t)if(s(t,p)){if(g=t[p],f=r(n?n+p:p),d=!1,b=!1,u(g)&&(y=g.call(w||t,g,p,f,t),a(y)&&null!=y.value?(g=y.value,b=y.prefix,f=y.name?r(y.name):f):g=y),v="number"==(m=typeof g)||"string"==m&&""!=g&&1*g==g,null==g||null==f||""===f)continue;if((v||"string"==m)&&(d=!0),!d&&null!=g.value&&g.prefix&&(d=!0,b=g.prefix,g=g.value),d){if(b=b||!!E[f],v&&(g=S&&!(f in M)?g+x:g+""),"border"!=f&&(f.indexOf("border")||~f.indexOf("radius")||~f.indexOf("width"))||!v||(f+="-width"),!f.indexOf("border-radius-")&&(f.replace(/border(-radius)(-(.*))/,(function(t,e,n){var i={"-top":["-top-left","-top-right"],"-left":["-top-left","-bottom-left"],"-right":["-top-right","-bottom-right"],"-bottom":["-bottom-left","-bottom-right"]};n in i?(f=[],i[n].forEach((function(t){f.push("border"+t+e)}))):f="border"+n+e})),Array.isArray(f))){f.forEach((function(t){b?c(i,t,g,k):i[k(t)]=g}));continue}b?c(i,f,g,k):i[k(f)]=g}else h(g,e,f+"-",i)}return i};t.exports=h},function(t,e,n){"use strict";var i=n(126),r=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o="undefined"==typeof document?{}:document.documentElement.style,s=function(){var t=function(){for(var t in o)if(r.test(t))return t.match(r)[0];return"WebkitOpacity"in o?"Webkit":"KhtmlOpacity"in o?"Khtml":""}(),e=t.toLowerCase();return{style:t,css:"-"+e+"-",dom:{Webkit:"WebKit",ms:"MS",o:"WebKit"}[t]||i(t)}}();t.exports=s},function(t){"use strict";t.exports=function(t){return t.length?t.charAt(0).toUpperCase()+t.substring(1):t}},function(t,e,n){"use strict";var i=function(t,e){return e?e.toUpperCase():""},r=n(323);t.exports=function(t){return t?t.replace(r,i):""}},function(t,e,n){"use strict";var i=n(324);t.exports=function(t){return i(t).toLowerCase()}},function(t){"use strict";var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){function i(t,e){this._init(t,e)}var r=n(320).string,o=n(329),s=n(330);i.prototype._init=function(t,e){this.container=document.createElement("div"),this.container.id="j3-info-popup";Object.assign({},s.defaultContainerStyles,e||{});var n=r(s.defaultContainerStyles,{addUnits:!0});n&&(this.container.style.cssText=n),(t||document.body).appendChild(this.container)},i.prototype.addPanel=function(t,e){var n=document.createElement("div");if(n.classList.add("panel"),0<this.container.children.length&&(n.style.cssText=r(s.defaultPanelStyles)),t){var i=document.createElement("div");i.style.cssText=r(s.defaultPanelTitleStyles),i.innerText=t,n.appendChild(i)}if(e){var a=document.createElement("div");a.style.cssText=r(s.defaultPanelContentStyles),o.number(e)||o.boolean(e)||o.string(e)?this._generatePrimitive(n,a,e):o.function(e)?this._generateFunction(n,a,e):e.nodeType&&1===e.nodeType?this._generateDOMElement(n,a,e):o.object(e)?this._generateObject(n,a,e):console.error("Unsupported content data type")}this.container.appendChild(n)},i.prototype._generatePrimitive=function(t,e,n){e.innerText=n,t.appendChild(e)},i.prototype._generateFunction=function(t,e,n){t.appendChild(e);var i=function(){var t=n();t?(e.innerText=t,requestAnimationFrame(i)):(e.innerText="void function",console.warn("Detected void return in callback function. Callback function executed only once"))};requestAnimationFrame(i)},i.prototype._generateDOMElement=function(t,e,n){e.innerHTML=n.innerHTML,t.appendChild(e)},i.prototype._generateObject=function(t,e,n){e.innerText=JSON.stringify(n),t.appendChild(e)},t.exports=i},function(t,e,n){"use strict";(function(t){function i(){return o()}n.d(e,"a",(function(){return i}));var r=(t,e,n,i)=>{var o=(e,r,o)=>new i(t=>{null!==o&&(o=n.stringify(o)),t(o)}).then(n=>t(r,{method:e,body:n})).then(t=>t.json()),s=(t,e)=>o(t,e,null),a=s.bind(null,"GET"),u=o.bind(null,"PUT"),c=o.bind(null,"POST"),l=s.bind(null,"DELETE"),h=(t,e)=>(n,...i)=>t(e(n),...i),d=t=>(r,o)=>i.resolve(new e(n.stringify({address:r.slice(t.length),method:o.method,body:n.parse(o.body)})));return{discover:a.bind(null,"https://discovery.meethue.com"),bridge:t=>{var o="http://"+t,s=o+"/api";return{createUser:t=>c(s,{devicetype:t}),user:f=>{Cookies.set("hueid",f,{expires:30});var p=`${s}/${f}`,g=p+"/capabilities",m=p+"/config",v=p+"/lights",y=p+"/groups",b=p+"/schedules",w=p+"/scenes",S=p+"/sensors",M=p+"/rules",x=p+"/resourcelinks",E=t=>e=>`${t}/${e}`,k=E(v),C=E(y),O=E(b),_=E(w),T=E(S),A=E(M),I=E(x);return{getCapabilities:a.bind(null,g),deleteUser:h(l,t=>`${m}/whitelist/${t}`),getConfig:a.bind(null,m),setConfig:u.bind(null,m),getFullState:a.bind(null,p),getLights:a.bind(null,v),getNewLights:a.bind(null,v+"/new"),searchForNewLights:(t=null)=>c(v,t),getLight:h(a,k),setLight:h(u,k),setLightState:h(u,t=>k(t)+"/state"),deleteLight:h(l,k),getGroups:a.bind(null,y),createGroup:c.bind(null,y),getGroup:h(a,C),setGroup:h(u,C),setGroupState:h(u,t=>C(t)+"/action"),deleteGroup:h(l,C),getSchedules:a.bind(null,b),createSchedule:c.bind(null,b),getSchedule:h(a,O),setSchedule:h(u,O),deleteSchedule:h(l,O),scheduleCommandGenerator:()=>r(d(o),e,n,i).bridge(t).user(f),getScenes:a.bind(null,w),createScene:c.bind(null,w),getScene:h(a,_),setScene:h(u,_),setSceneLightState:(t,e,n)=>u(`${_(t)}/lightstates/${e}`,n),deleteScene:h(l,_),getSensors:a.bind(null,S),createSensor:c.bind(null,S),searchForNewSensors:c.bind(null,S,null),getNewSensors:a.bind(null,S+"/new"),getSensor:h(a,T),setSensor:h(u,T),setSensorConfig:h(u,t=>T(t)+"/config"),setSensorState:h(u,t=>T(t)+"/state"),deleteSensor:h(l,T),getRules:a.bind(null,M),createRule:c.bind(null,M),getRule:h(a,A),setRule:h(u,A),deleteRule:h(l,A),ruleActionGenerator:()=>r(d(p),e,n,i).bridge(t).user(f),getResourceLinks:a.bind(null,x),createResourceLink:c.bind(null,x),getResourceLink:h(a,I),setResourceLink:h(u,I),deleteResourceLink:h(l,I)}}}}}};let o;"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"undefined"!=typeof JSON&&"undefined"!=typeof Promise&&(o=r.bind(null,fetch,Response,JSON,Promise),void 0!==t.exports&&(t.exports=o))}).call(this,n(130)(t))},function(t,e,n){function i(t){if(this.support=r.webAudio&&r.mediaStream,this.gain=1,this.support){var e=this.context=new r.AudioContext;this.microphone=e.createMediaStreamSource(t),this.gainFilter=e.createGain(),this.destination=e.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),t.addTrack(this.outputStream.getAudioTracks()[0]),t.removeTrack(t.getAudioTracks()[0])}this.stream=t}var r=n(333);i.prototype.setGain=function(t){this.support&&(this.gainFilter.gain.value=t,this.gain=t)},i.prototype.getGain=function(){return this.gain},i.prototype.off=function(){return this.setGain(0)},i.prototype.on=function(){this.setGain(1)},t.exports=i},function(t,e,n){"use strict";n(135);var i=function(t){return t&&t.__esModule?t:{default:t}}(n(307));i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(t,e,n){"use strict";n(136),n(279),n(281),n(284),n(286),n(288),n(290),n(292),n(294),n(296),n(298),n(300),n(302),n(306)},function(t,e,n){n(137),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(218),n(219),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(81),n(242),n(109),n(243),n(110),n(244),n(245),n(246),n(247),n(111),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),t.exports=n(7)},function(t,e,n){"use strict";var i=n(1),r=n(13),o=n(8),s=n(0),a=n(11),u=n(27).KEY,c=n(2),l=n(48),h=n(38),d=n(29),f=n(5),p=n(62),g=n(90),m=n(139),v=n(51),y=n(3),b=n(4),w=n(10),S=n(15),M=n(26),x=n(28),E=n(33),k=n(93),C=n(20),O=n(50),_=n(9),T=n(31),A=C.f,I=_.f,P=k.f,N=i.Symbol,R=i.JSON,F=R&&R.stringify,B="prototype",L=f("_hidden"),j=f("toPrimitive"),D={}.propertyIsEnumerable,U=l("symbol-registry"),V=l("symbols"),z=l("op-symbols"),G=Object[B],H="function"==typeof N&&!!O.f,W=i.QObject,K=!W||!W[B]||!W[B].findChild,q=o&&c((function(){return 7!=E(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=A(G,e);i&&delete G[e],I(t,e,n),i&&t!==G&&I(G,e,i)}:I,J=function(t){var e=V[t]=E(N[B]);return e._k=t,e},Y=H&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},X=function(t,e,n){return t===G&&X(z,e,n),y(t),e=M(e,!0),y(n),r(V,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=E(n,{enumerable:x(0,!1)})):(!r(t,L)&&I(t,L,x(1,{})),t[L][e]=!0),q(t,e,n)):I(t,e,n)},$=function(t,e){y(t);for(var n,i=m(e=S(e)),r=0,o=i.length;o>r;)X(t,n=i[r++],e[n]);return t},Q=function(t){var e=D.call(this,t=M(t,!0));return(this!==G||!r(V,t)||r(z,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,L)&&this[L][t])||e)},Z=function(t,e){if(t=S(t),e=M(e,!0),t!==G||!r(V,e)||r(z,e)){var n=A(t,e);return n&&r(V,e)&&!(r(t,L)&&t[L][e])&&(n.enumerable=!0),n}},tt=function(t){for(var e,n=P(S(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==L||e==u||i.push(e);return i},et=function(t){for(var e,n=t===G,i=P(n?z:S(t)),o=[],s=0;i.length>s;)r(V,e=i[s++])&&(!n||r(G,e))&&o.push(V[e]);return o};H||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?arguments[0]:void 0),e=function(n){this===G&&e.call(z,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),q(this,t,x(1,n))};return o&&K&&q(G,t,{configurable:!0,set:e}),J(t)})[B],"toString",(function(){return this._k})),C.f=Z,_.f=X,n(34).f=k.f=tt,n(45).f=Q,O.f=et,o&&!n(30)&&a(G,"propertyIsEnumerable",Q,!0),p.f=function(t){return J(f(t))}),s(s.G+s.W+s.F*!H,{Symbol:N});for(var nt=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],it=0;nt.length>it;)f(nt[it++]);for(var rt=T(f.store),ot=0;rt.length>ot;)g(rt[ot++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return r(U,t+="")?U[t]:U[t]=N(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?E(t):$(E(t),e)},defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=c((function(){O.f(1)}));s(s.S+s.F*st,"Object",{getOwnPropertySymbols:function(t){return O.f(w(t))}}),R&&s(s.S+s.F*(!H||c((function(){var t=N();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,F.apply(R,i)}}),N[B][j]||n(14)(N[B],j,N[B].valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(48)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(31),r=n(50),o=n(45);t.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(33)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(8),"Object",{defineProperty:n(9).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(8),"Object",{defineProperties:n(92)})},function(t,e,n){var i=n(15),r=n(20).f;n(21)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},function(t,e,n){var i=n(10),r=n(35);n(21)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},function(t,e,n){var i=n(10),r=n(31);n(21)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e,n){n(21)("getOwnPropertyNames",(function(){return n(93).f}))},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(4),r=n(27).onFreeze;n(21)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(4);n(21)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(4);n(21)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(4);n(21)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(94)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(95)})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(66).set})},function(t,e,n){"use strict";var i=n(46);({})[n(5)("toStringTag")]="z",n(11)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(96)})},function(t,e,n){var i=n(9).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||n(8)&&i(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(4),r=n(35),o=n(5)("hasInstance"),s=Function.prototype;o in s||n(9).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(0),r=n(98);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(0),r=n(99);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(1),r=n(13),o=n(23),s=n(68),a=n(26),u=n(2),c=n(34).f,l=n(20).f,h=n(9).f,d=n(39).trim,f="Number",p=i[f],g=p,m=p.prototype,v=o(n(33)(m))==f,y="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&2<e.length){var n,i,r,o=(e=y?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,u=e.slice(2),c=0,l=u.length;c<l;c++)if(48>(s=u.charCodeAt(c))||s>r)return NaN;return parseInt(u,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=1>arguments.length?0:t,n=this;return n instanceof p&&(v?u((function(){m.valueOf.call(n)})):o(n)!=f)?s(new g(b(e)),n,p):b(e)};for(var w,S=n(8)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;S.length>M;M++)r(g,w=S[M])&&!r(p,w)&&h(p,w,l(g,w));p.prototype=m,m.constructor=p,n(11)(i,f,p)}},function(t,e,n){"use strict";var i=n(0),r=n(19),o=n(100),s=n(69),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h="0",d=function(t,e){for(var n=-1,i=e;6>++n;)i+=t*c[n],c[n]=i%1e7,i=u(i/1e7)},f=function(t){for(var e=6,n=0;0<=--e;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";0<=--t;)if(""!==e||0==t||0!==c[t]){var n=c[t]+"";e=""===e?n:e+s.call(h,7-n.length)+n}return e},g=function(t,e,n){return 0===e?n:1==e%2?g(t,e-1,n*t):g(t*t,e/2,n)};i(i.P+i.F*("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)||!n(2)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,i,a,u=o(this,l),c=r(t),m="",v=h;if(0>c||20<c)throw RangeError(l);if(u!=u)return"NaN";if(-1e21>=u||1e21<=u)return u+"";if(0>u&&(m="-",u=-u),1e-21<u)if(n=0>(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(u*g(2,69,1))-69)?u*g(2,-e,1):u/g(2,e,1),n*=4503599627370496,0<(e=52-e)){for(d(0,n),i=c;7<=i;)d(1e7,0),i-=7;for(d(g(10,i,1),0),i=e-1;23<=i;)f(8388608),i-=23;f(1<<i),d(1,1),f(2),v=p()}else d(0,n),d(1<<-e,0),v=p()+s.call(h,c);return 0<c?v=m+((a=v.length)<=c?"0."+s.call(h,c-a)+v:v.slice(0,a-c)+"."+v.slice(a-c)):v=m+v,v}})},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(100),s=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:2220446049250313e-31})},function(t,e,n){var i=n(0),r=n(1).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(101)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(101),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&9007199254740991>=o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(99);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(98);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(102),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return 1>(t=+t)?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(0),r=Math.asinh;i(i.S+i.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?0>e?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&0>1/r(-0)),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(70);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(71);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(182)})},function(t,e,n){var i=n(70),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),u=r(2,-126);t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),c=i(t);return r<u?c*function(t){return t+1/o-1/o}(r/u/s)*u*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(){for(var t,e,n=0,i=0,o=arguments.length,s=0;i<o;)s<(t=r(arguments[i++]))?(n=n*(e=s/t)*e+1,s=t):0<t?n+=(e=t/s)*e:n+=t;return s==1/0?1/0:s*Math.sqrt(n)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(2)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,s=n&r;return 0|o*s+((n&i>>>16)*s+o*(n&r>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(102)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(70)})},function(t,e,n){var i=n(0),r=n(71),o=Math.exp;i(i.S+i.F*n(2)((function(){return!0})),"Math",{sinh:function(t){return 1>Math.abs(t=+t)?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(71),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),r=n(32),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(){for(var t,e=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");e.push(65536>t?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return e.join("")}})},function(t,e,n){var i=n(0),r=n(15),o=n(6);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(e[a++]+""),a<i&&s.push(arguments[a]+"");return s.join("")}})},function(t,e,n){"use strict";n(39)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var i=n(72)(!0);n(73)(String,"String",(function(t){this._t=t+"",this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var i=n(0),r=n(72)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(74),s="endsWith";i(i.P+i.F*n(76)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=1<arguments.length?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),u=t+"";return e.slice(a-u.length,a)===u}})},function(t,e,n){"use strict";var i=n(0),r=n(74),o="includes";i(i.P+i.F*n(76)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(69)})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(74),s="startsWith";i(i.P+i.F*n(76)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=r(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),i=t+"";return e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(12)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(12)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(12)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(12)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(12)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(12)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(12)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(12)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(12)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(12)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(12)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(12)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(12)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(10),o=n(26);i(i.P+i.F*n(2)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var t=r(this),e=o(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},function(t,e,n){var i=n(0),r=n(217);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(2),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return 9<t?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=0>e?"-":9999<e?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(99<n?n:"0"+s(n))+"Z"}:o},function(t,e,n){var i=Date.prototype,r="Invalid Date",o="toString",s=i[o],a=i.getTime;new Date(NaN)+""!=r&&n(11)(i,o,(function(){var t=a.call(this);return t==t?s.call(this):r}))},function(t,e,n){var i=n(5)("toPrimitive"),r=Date.prototype;i in r||n(14)(r,i,n(220))},function(t,e,n){"use strict";var i=n(3),r=n(26),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=o)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(51)})},function(t,e,n){"use strict";var i=n(17),r=n(0),o=n(10),s=n(104),a=n(77),u=n(6),c=n(78),l=n(79);r(r.S+r.F*!n(52)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,d=o(t),f="function"==typeof this?this:Array,p=arguments.length,g=1<p?arguments[1]:void 0,m=void 0!==g,v=0,y=l(d);if(m&&(g=i(g,2<p?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(e=u(d.length));e>v;v++)c(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(r=h.next()).done;v++)c(n,v,m?s(h,g,[r.value,v],!0):r.value);return n.length=v,n}})},function(t,e,n){"use strict";var i=n(0),r=n(78);i(i.S+i.F*n(2)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=[].join;i(i.P+i.F*(n(44)!=Object||!n(16)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(65),o=n(23),s=n(32),a=n(6),u=[].slice;i(i.P+i.F*n(2)((function(){r&&u.call(r)})),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return u.call(this,t,e);for(var r=s(t,n),c=s(e,n),l=a(c-r),h=Array(l),d=0;d<l;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(10),s=n(2),a=[].sort,u=[1,2,3];i(i.P+i.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!n(16)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(0),o=n(16)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(4),r=n(51),o=n(5)("species");t.exports=function(t){var e;return r(t)&&("function"==typeof(e=t.constructor)&&(e===Array||r(e.prototype))&&(e=void 0),i(e)&&(null===(e=e[o])&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(22)(1);i(i.P+i.F*!n(16)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(2);i(i.P+i.F*!n(16)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(3);i(i.P+i.F*!n(16)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(22)(4);i(i.P+i.F*!n(16)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(106);i(i.P+i.F*!n(16)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(106);i(i.P+i.F*!n(16)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(49)(!1),o=[].indexOf,s=!!o&&0>1/[1].indexOf(1,-0);i(i.P+i.F*(s||!n(16)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(19),s=n(6),a=[].lastIndexOf,u=!!a&&0>1/[1].lastIndexOf(1,-0);i(i.P+i.F*(u||!n(16)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(1<arguments.length&&(i=Math.min(i,o(arguments[1]))),0>i&&(i=n+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(107)}),n(36)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(80)}),n(36)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(22)(5),o="find",s=!0;o in[]&&[,][o]((function(){s=!1})),i(i.P+i.F*s,"Array",{find:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)(o)},function(t,e,n){"use strict";var i=n(0),r=n(22)(6),o="findIndex",s=!0;o in[]&&[,][o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)(o)},function(t,e,n){n(41)("Array")},function(t,e,n){var i=n(1),r=n(68),o=n(9).f,s=n(34).f,a=n(75),u=n(53),c=i.RegExp,l=c,h=c.prototype,d=/a/g,f=/a/g,p=new c(d)!==d;if(n(8)&&(!p||n(2)((function(){return f[n(5)("match")]=!1,c(d)!=d||c(f)==f||"/a/i"!=c(d,"i")})))){c=function(t,e){var n=this instanceof c,i=a(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(p?new l(i&&!o?t.source:t,e):l((i=t instanceof c)?t.source:t,i&&o?u.call(t):e),n?this:h,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=s(l),v=0;m.length>v;)g(m[v++]);h.constructor=c,c.prototype=h,n(11)(i,"RegExp",c)}n(41)("RegExp")},function(t,e,n){"use strict";n(110);var i=n(3),r=n(53),o=n(8),s="toString",a=/./[s],u=function(t){n(11)(RegExp.prototype,s,t,!0)};n(2)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},function(t,e,n){"use strict";var i=n(3),r=n(6),o=n(83),s=n(54);n(55)("match",1,(function(t,e,n,a){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0===r?new RegExp(n)[e](i+""):r.call(n,i)},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=i(t),c=this+"";if(!u.global)return s(u,c);var l=u.unicode;u.lastIndex=0;for(var h,d=[],f=0;null!==(h=s(u,c));){var p=h[0]+"";d[f]=p,""==p&&(u.lastIndex=o(c,r(u.lastIndex),l)),f++}return 0==f?null:d}]}))},function(t,e,n){"use strict";var i=n(3),r=n(10),o=n(6),s=n(19),a=n(83),u=n(54),c=Math.max,l=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:t+""};n(55)("replace",2,(function(t,e,n,g){function m(t,e,i,o,s,a){var u=i+t.length,c=o.length,l=f;return void 0!==s&&(s=r(s),l=d),n.call(a,l,(function(n,r){var a;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(u);case"<":a=s[r.slice(1,-1)];break;default:var l=+r;if(0==l)return n;if(l>c){var d=h(l/10);return 0===d?n:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}a=o[l-1]}return void 0===a?"":a}))}return[function(i,r){var o=t(this),s=null==i?void 0:i[e];return void 0===s?n.call(o+"",i,r):s.call(i,o,r)},function(t,e){var r=g(n,t,this,e);if(r.done)return r.value;var h=i(t),d=this+"",f="function"==typeof e;f||(e+="");var v=h.global;if(v){var y=h.unicode;h.lastIndex=0}for(var b,w=[];null!==(b=u(h,d))&&(w.push(b),v);){""==b[0]+""&&(h.lastIndex=a(d,o(h.lastIndex),y))}for(var S="",M=0,x=0;x<w.length;x++){for(var E=(b=w[x])[0]+"",k=c(l(s(b.index),d.length),0),C=[],O=1;O<b.length;O++)C.push(p(b[O]));var _=b.groups;if(f){var T=[E].concat(C,k,d);void 0!==_&&T.push(_);var A=e.apply(void 0,T)+""}else A=m(E,d,k,C,_,e);k>=M&&(S+=d.slice(M,k)+A,M=k+E.length)}return S+d.slice(M)}]}))},function(t,e,n){"use strict";var i=n(3),r=n(95),o=n(54);n(55)("search",1,(function(t,e,n,s){return[function(n){var i=t(this),r=null==n?void 0:n[e];return void 0===r?new RegExp(n)[e](i+""):r.call(n,i)},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=i(t),u=this+"",c=a.lastIndex;r(c,0)||(a.lastIndex=0);var l=o(a,u);return r(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,n){"use strict";var i=n(75),r=n(3),o=n(47),s=n(83),a=n(6),u=n(54),c=n(82),l=n(2),h=Math.min,d=[].push,f="split",p="length",g="lastIndex",m=4294967295,v=!l((function(){RegExp(m,"y")}));n(55)("split",2,(function(t,e,n,l){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||1<"."[f](/()()/)[p]||""[f](/.?/)[p]?function(t,e){var r=this+"";if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);for(var o,s,a,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,f=void 0===e?m:e>>>0,v=new RegExp(t.source,l+"g");(o=c.call(v,r))&&!((s=v[g])>h&&(u.push(r.slice(h,o.index)),1<o[p]&&o.index<r[p]&&d.apply(u,o.slice(1)),a=o[0][p],h=s,u[p]>=f));)v[g]===o.index&&v[g]++;return h===r[p]?(a||!v.test(""))&&u.push(""):u.push(r.slice(h)),u[p]>f?u.slice(0,f):u}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=null==n?void 0:n[e];return void 0===o?y.call(r+"",n,i):o.call(n,r,i)},function(t,e){var i=l(y,t,this,e,y!==n);if(i.done)return i.value;var c=r(t),d=this+"",f=o(c,RegExp),p=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),b=new f(v?c:"^(?:"+c.source+")",g),w=void 0===e?m:e>>>0;if(0==w)return[];if(0===d.length)return null===u(b,d)?[d]:[];for(var S=0,M=0,x=[];M<d.length;){b.lastIndex=v?M:0;var E,k=u(b,v?d:d.slice(M));if(null===k||(E=h(a(b.lastIndex+(v?0:M)),d.length))===S)M=s(d,M,p);else{if(x.push(d.slice(S,M)),x.length===w)return x;for(var C=1;C<=k.length-1;C++)if(x.push(k[C]),x.length===w)return x;M=S=E}}return x.push(d.slice(S)),x}]}))},function(t,e,n){var i=n(1),r=n(84).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==n(23)(s);t.exports=function(){var t,e,n,c=function(){var i,r;for(u&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(r){throw t?n():e=void 0,r}}e=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){r.call(i,c)};else{var h=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var i=n(114),r=n(37),o="Map";t.exports=n(58)(o,(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return i.def(r(this,o),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(114),r=n(37);t.exports=n(58)("Set",(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(1),o=n(22)(0),s=n(11),a=n(27),u=n(94),c=n(115),l=n(4),h=n(37),d=n(37),f=!r.ActiveXObject&&"ActiveXObject"in r,p="WeakMap",g=a.getWeak,m=Object.isExtensible,v=c.ufstore,y=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(t){if(l(t)){var e=g(t);return!0===e?v(h(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,p),t,e)}},w=t.exports=n(58)(p,y,b,c,!0,!0);d&&f&&(u((i=c.getConstructor(y,p)).prototype,b),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=w.prototype,n=e[t];s(e,t,(function(e,r){if(l(e)&&!m(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},function(t,e,n){"use strict";var i=n(115),r=n(37),o="WeakSet";n(58)(o,(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(59),o=n(85),s=n(3),a=n(32),u=n(6),c=n(4),l=n(1).ArrayBuffer,h=n(47),d=o.ArrayBuffer,f=o.DataView,p=r.ABV&&l.isView,g=d.prototype.slice,m=r.VIEW,v="ArrayBuffer";i(i.G+i.W+i.F*(l!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,v,{isView:function(t){return p&&p(t)||c(t)&&m in t}}),i(i.P+i.U+i.F*n(2)((function(){return!new d(2).slice(1,void 0).byteLength})),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(h(this,d))(u(r-i)),c=new f(this),l=new f(o),p=0;i<r;)l.setUint8(p++,c.getUint8(i++));return o}}),n(41)(v)},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(59).ABV,{DataView:n(85).DataView})},function(t,e,n){n(25)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(25)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(25)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(0),r=n(18),o=n(3),s=(n(1).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!n(2)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),u=o(n);return s?s(i,e,u):a.call(i,e,u)}})},function(t,e,n){var i=n(0),r=n(33),o=n(18),s=n(3),a=n(4),u=n(2),c=n(96),l=(n(1).Reflect||{}).construct,h=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),d=!u((function(){l((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),s(e);var n=3>arguments.length?t:o(arguments[2]);if(d&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var u=n.prototype,f=r(a(u)?u:Object.prototype),p=Function.apply.call(t,f,e);return a(p)?p:f}})},function(t,e,n){var i=n(9),r=n(0),o=n(3),s=n(26);r(r.S+r.F*n(2)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(e){return!1}}})},function(t,e,n){var i=n(0),r=n(20).f,o=n(3);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return(!n||n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),r=n(3),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(103)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(20),r=n(35),o=n(13),s=n(0),a=n(4),u=n(3);s(s.S,"Reflect",{get:function t(e,n){var s,c,l=3>arguments.length?e:arguments[2];return u(e)===l?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0===s.get?void 0:s.get.call(l):a(c=r(e))?t(c,n,l):void 0}})},function(t,e,n){var i=n(20),r=n(0),o=n(3);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(35),o=n(3);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(3),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(117)})},function(t,e,n){var i=n(0),r=n(3),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(9),r=n(20),o=n(35),s=n(13),a=n(0),u=n(28),c=n(3),l=n(4);a(a.S,"Reflect",{set:function t(e,n,a){var h,d,f=4>arguments.length?e:arguments[3],p=r.f(c(e),n);if(!p){if(l(d=o(e)))return t(d,n,a,f);p=u(0)}if(s(p,"value")){if(!1===p.writable||!l(f))return!1;if(h=r.f(f,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,i.f(f,n,h)}else i.f(f,n,u(0,a));return!0}return void 0!==p.set&&(p.set.call(f,a),!0)}})},function(t,e,n){var i=n(0),r=n(66);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(e){return!1}}})},function(t,e,n){n(280),t.exports=n(7).Array.includes},function(t,e,n){"use strict";var i=n(0),r=n(49)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(36)("includes")},function(t,e,n){n(282),t.exports=n(7).Array.flatMap},function(t,e,n){"use strict";var i=n(0),r=n(283),o=n(10),s=n(6),a=n(18),u=n(105);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=u(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(36)("flatMap")},function(t,e,n){"use strict";var i=n(51),r=n(4),o=n(6),s=n(17),a=n(5)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,h,d,f){for(var p,g,m=l,v=0,y=!!d&&s(d,f,3);v<c;){if(v in u){if(p=y?y(u[v],v,n):u[v],g=!1,r(p)&&(g=void 0===(g=p[a])?i(p):!!g),g&&0<h)m=t(e,n,p,o(p.length),m,h-1)-1;else{if(9007199254740991<=m)throw TypeError();e[m]=p}m++}v++}return m}},function(t,e,n){n(285),t.exports=n(7).String.padStart},function(t,e,n){"use strict";var i=n(0),r=n(118),o=n(57),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padStart:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,n){n(287),t.exports=n(7).String.padEnd},function(t,e,n){"use strict";var i=n(0),r=n(118),o=n(57),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*s,"String",{padEnd:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,n){n(289),t.exports=n(7).String.trimLeft},function(t,e,n){"use strict";n(39)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(291),t.exports=n(7).String.trimRight},function(t,e,n){"use strict";n(39)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){n(293),t.exports=n(62).f("asyncIterator")},function(t,e,n){n(90)("asyncIterator")},function(t,e,n){n(295),t.exports=n(7).Object.getOwnPropertyDescriptors},function(t,e,n){var i=n(0),r=n(117),o=n(15),s=n(20),a=n(78);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),u=s.f,c=r(i),l={},h=0;c.length>h;)void 0!==(n=u(i,e=c[h++]))&&a(l,e,n);return l}})},function(t,e,n){n(297),t.exports=n(7).Object.values},function(t,e,n){var i=n(0),r=n(119)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){n(299),t.exports=n(7).Object.entries},function(t,e,n){var i=n(0),r=n(119)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";n(111),n(301),t.exports=n(7).Promise.finally},function(t,e,n){"use strict";var i=n(0),r=n(7),o=n(1),s=n(47),a=n(113);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){n(303),n(304),n(305),t.exports=n(7)},function(t,e,n){var i=n(1),r=n(0),o=n(57),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var i=2<arguments.length,r=!!i&&s.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*a,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(t,e,n){var i=n(0),r=n(84);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(81),r=n(31),o=n(11),s=n(1),a=n(14),u=n(40),c=n(5),l=c("iterator"),h=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),g=0;g<p.length;g++){var m,v=p[g],y=f[v],b=s[v],w=b&&b.prototype;if(w&&(w[l]||a(w,l,d),w[h]||a(w,h,v),u[v]=d,y))for(m in i)w[m]||o(w,m,i[m],!0)}},function(t){var e=function(t){"use strict";function e(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}function n(t,e,n,i){var o=e&&e.prototype instanceof r?e:r,s=Object.create(o.prototype),a=new f(i||[]);return s._invoke=c(t,n,a),s}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach((function(n){e(t,n,(function(t){return this._invoke(n,t)}))}))}function u(t,e){function n(r,o,s,a){var u=i(t[r],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&v.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(u.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function c(t,e,n){var r=M;return function(o,s){if(r===E)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw s;return{value:void 0,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===C)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===M)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=E;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?k:x,c.arg===C)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=k,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,l(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,C;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,C):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function d(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(v.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:g}}function g(){return{value:void 0,done:!0}}var m=Object.prototype,v=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(t,e,n){return t[e]=n}}t.wrap=n;var M="suspendedStart",x="suspendedYield",E="executing",k="completed",C={},O={};O[b]=function(){return this};var _=Object.getPrototypeOf,T=_&&_(_(p([])));T&&T!==m&&v.call(T,b)&&(O=T);var A=s.prototype=r.prototype=Object.create(O);return o.prototype=A.constructor=s,s.constructor=o,o.displayName=e(s,S,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,S,"GeneratorFunction")),t.prototype=Object.create(A),t},t.awrap=function(t){return{__await:t}},a(u.prototype),u.prototype[w]=function(){return this},t.AsyncIterator=u,t.async=function(e,i,r,o,s){void 0===s&&(s=Promise);var a=new u(n(e,i,r,o),s);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},a(A),e(A,S,"Generator"),A[b]=function(){return this},A.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=p,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(d),!t)for(var e in this)"t"===e.charAt(0)&&v.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=void 0),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=v.call(r,"catchLoc"),a=v.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n,i=this.tryEntries.length-1;0<=i;--i)if((n=this.tryEntries[i]).tryLoc<=this.prev&&v.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),d(e),C},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;d(e)}return r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),C}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},function(t,e,n){n(308),t.exports=n(120).global},function(t,e,n){var i=n(309);i(i.G,{global:n(86)})},function(t,e,n){var i=n(86),r=n(120),o=n(310),s=n(312),a=n(319),u="prototype",c=function(t,e,n){var l,h,d,f=t&c.F,p=t&c.G,g=t&c.S,m=t&c.P,v=t&c.B,y=t&c.W,b=p?r:r[e]||(r[e]={}),w=b[u],S=p?i:g?i[e]:(i[e]||{})[u];for(l in p&&(n=e),n)(h=!f&&S&&void 0!==S[l])&&a(b,l)||(d=h?S[l]:n[l],b[l]=p&&"function"!=typeof S[l]?n[l]:v&&h?o(d,i):y&&S[l]==d?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[u]=t[u],e}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,t&c.R&&w&&!w[l]&&s(w,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var i=n(311);t.exports=function(t,e,n){return i(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,i){return t.call(e,n,i)}:3===n?function(n,i,r){return t.call(e,n,i,r)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(313),r=n(318);t.exports=n(88)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(314),r=n(315),o=n(317),s=Object.defineProperty;e.f=n(88)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(87);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(88)&&!n(121)((function(){return 7!=Object.defineProperty(n(316)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(87),r=n(86).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(87);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,e,n){"use strict";t.exports={prefixProperties:n(122),cssUnitless:n(123),object:n(124),string:n(328)}},function(t,e,n){t.exports=n(322)()},function(t,e,n){"use strict";var i=n(127),r=n(128),o=n(325),s=n(126),a=n(125),u=n(122),c="undefined"==typeof document?{}:document.documentElement.style;t.exports=function(t){return function(e,n){n=n||{};var l=o(i(e)),h=r(e),d=t?l:h,f=a.style?t?a.style:a.css:"";if(l in c)return n.asString?d:[d];var p=d,g=u[h],m=[];if(t&&(p=s(d)),"function"==typeof g){var v=g(d,f)||[];v&&!Array.isArray(v)&&(v=[v]),v.length&&(v=v.map((function(e){return t?o(i(e)):r(e)}))),m=m.concat(v)}return f&&m.push(f+p),m.push(d),n.asString||1==m.length?m[0]:m}}},function(t){t.exports=/[-\s]+(.)?/g},function(t){"use strict";var e=/::/g,n=/([A-Z]+)([A-Z][a-z])/g,i=/([a-z\d])([A-Z])/g,r=/_/g;t.exports=function(t,o){return t?t.replace(e,"/").replace(n,"$1_$2").replace(i,"$1_$2").replace(r,o||"-"):""}},function(t){"use strict";t.exports=function(t){return t.length?t.charAt(0).toLowerCase()+t.substring(1):t}},function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){return!!t&&"[object Object]"===e.call(t)}},function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){return"[object Function]"===e.apply(t)}},function(t,e,n){"use strict";var i=n(124),r=n(129);t.exports=function(t,e){t=i(t,e);var n,o=[];for(n in t)r(t,n)&&o.push(n+": "+t[n]);return o.join("; ")}},function(t,e,n){var i;!function(){"use strict";function r(t){return null!=t}function o(t){return"number"==typeof t&&t>V&&t<z}function s(t){return"number"==typeof t&&0==t%1}function a(t,e){return o(t)&&t>e}function u(t,e){return o(t)&&t<e}function c(t,e){return o(t)&&t>=e}function l(t,e){return o(t)&&t<=e}function h(t){return"string"==typeof t}function d(t){return h(t)&&""!==t}function f(t){return"[object Object]"===Object.prototype.toString.call(t)}function p(t,e){try{return t instanceof e}catch(t){return!1}}function g(t){return G(t)}function m(t){return r(t)&&c(t.length,0)}function v(t){return"function"==typeof t}function y(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n]===e)return e;return!e}function b(t,e){var n,i;for(n in t)if(t.hasOwnProperty(n)){if(f(i=t[n])&&b(i,e)===e)return e;if(i===e)return e}return!e}function w(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function S(t,e){return function(){return M(t,arguments,e)}}function M(t,e,n){var i=t.l||t.length,r=e[i],o=e[i+1];return x(t.apply(null,e),d(r)?r:n,v(o)?o:TypeError),e[0]}function x(t,e,n){if(t)return t;throw new(n||Error)(e||"Assertion failed")}function E(t){var e=function(){return k(t.apply(null,arguments))};return e.l=t.length,e}function k(t){return!t}function C(t,e,n){var i=function(){var i,o;if(i=arguments[0],"maybe"===t&&L.assigned(i))return!0;if(!e(i))return!1;i=O(e,i),o=U.call(arguments,1);try{i.forEach((function(e){if(("maybe"!==t||r(e))&&!n.apply(null,[e].concat(o)))throw 0}))}catch(t){return!1}return!0};return i.l=n.length,i}function O(t,e){return t===m?U.call(e):t===f?Object.keys(e).map((function(t){return e[t]})):e}function _(t,e){return T([t,R,e])}function T(t){var e,n,i,r;return e=t.shift(),n=t.pop(),i=t.pop(),r=n||{},Object.keys(i).forEach((function(n){Object.defineProperty(r,n,{configurable:!1,enumerable:!0,writable:!1,value:e.apply(null,t.concat(i[n],N[n]))})})),r}function A(t,e){return T([t,e,null])}function I(t,e){D.forEach((function(n){t[n].of=A(e,R[n].of)}))}var P,N,R,F,B,L,j,D,U,V,z,G,H;P={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},N={},R={},[{n:"equal",f:function(t,e){return t===e},s:"v"},{n:"undefined",f:function(t){return void 0===t},s:"v"},{n:"null",f:function(t){return null===t},s:"v"},{n:"assigned",f:r,s:"v"},{n:"primitive",f:function(t){var e;return!(null!=t&&!1!==t&&!0!==t)||("string"===(e=typeof t)||"number"===e||H&&"symbol"===e)},s:"v"},{n:"includes",f:function(t,e){var n,i,o,s,a;if(!r(t))return!1;if(H&&t[Symbol.iterator]&&v(t.values)){n=t.values();do{if((i=n.next()).value===e)return!0}while(!i.done);return!1}for(s=(o=Object.keys(t)).length,a=0;a<s;++a)if(t[o[a]]===e)return!0;return!1},s:"v"},{n:"zero",f:function(t){return 0===t}},{n:"infinity",f:function(t){return t===V||t===z}},{n:"number",f:o},{n:"integer",f:s},{n:"even",f:function(t){return"number"==typeof t&&0==t%2}},{n:"odd",f:function(t){return s(t)&&0!=t%2}},{n:"greater",f:a},{n:"less",f:u},{n:"between",f:function(t,e,n){return e<n?a(t,e)&&t<n:u(t,e)&&t>n}},{n:"greaterOrEqual",f:c},{n:"lessOrEqual",f:l},{n:"inRange",f:function(t,e,n){return e<n?c(t,e)&&t<=n:l(t,e)&&t>=n}},{n:"positive",f:function(t){return a(t,0)}},{n:"negative",f:function(t){return u(t,0)}},{n:"string",f:h,s:"s"},{n:"emptyString",f:function(t){return""===t},s:"s"},{n:"nonEmptyString",f:d,s:"s"},{n:"contains",f:function(t,e){return h(t)&&-1!==t.indexOf(e)},s:"s"},{n:"match",f:function(t,e){return h(t)&&!!t.match(e)},s:"s"},{n:"boolean",f:function(t){return!1===t||!0===t},s:"b"},{n:"object",f:f,s:"o"},{n:"emptyObject",f:function(t){return f(t)&&0===Object.keys(t).length},s:"o"},{n:"nonEmptyObject",f:function(t){return f(t)&&0<Object.keys(t).length},s:"o"},{n:"instanceStrict",f:p,s:"t"},{n:"instance",f:function(t,e){try{return p(t,e)||t.constructor.name===e.name||Object.prototype.toString.call(t)==="[object "+e.name+"]"}catch(t){return!1}},s:"t"},{n:"like",f:function t(e,n){for(var i in n)if(n.hasOwnProperty(i)){if(!1===e.hasOwnProperty(i)||typeof e[i]!=typeof n[i])return!1;if(f(e[i])&&!1===t(e[i],n[i]))return!1}return!0},s:"t"},{n:"array",f:g,s:"a"},{n:"emptyArray",f:function(t){return g(t)&&0===t.length},s:"a"},{n:"nonEmptyArray",f:function(t){return g(t)&&a(t.length,0)},s:"a"},{n:"arrayLike",f:m,s:"al"},{n:"iterable",f:function(t){return H?r(t)&&v(t[Symbol.iterator]):m(t)},s:"i"},{n:"date",f:function(t){return p(t,Date)&&s(t.getTime())},s:"d"},{n:"function",f:v,s:"f"},{n:"hasLength",f:function(t,e){return r(t)&&t.length===e},s:"l"}].map((function(t){var e=t.n;N[e]="Invalid "+P[t.s||"n"],R[e]=t.f})),F={apply:function(t,e){return B.array(t),v(e)?t.map((function(t){return e(t)})):(B.array(e),B.hasLength(t,e.length),t.map((function(t,n){return e[n](t)})))},map:function(t,e){return B.object(t),v(e)?function(t,e){var n={};return Object.keys(t).forEach((function(i){n[i]=e(t[i])})),n}(t,e):(B.object(e),function t(e,n){var i={};return Object.keys(n).forEach((function(r){var o=n[r];v(o)?L.assigned(e)?i[r]=!!o.m:i[r]=o(e[r]):f(o)&&(i[r]=t(e[r],o))})),i}(t,e))},all:function(t){return g(t)?y(t,!1):(B.object(t),b(t,!1))},any:function(t){return g(t)?y(t,!0):(B.object(t),b(t,!0))}},D=["array","arrayLike","iterable","object"],U=Array.prototype.slice,V=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY,G=Array.isArray,H="function"==typeof Symbol,F=w(F,R),B=_(S,x),L=_(E,k),j=_((function(t){var e=function(){return!!L.assigned(arguments[0])||t.apply(null,arguments)};return e.l=t.length,e.m=!0,e}),(function(t){return!(!1!==r(t))||t})),B.not=A(S,L),B.maybe=A(S,j),D.forEach((function(t){R[t].of=T([C.bind(null,null),R[t],R,null])})),I(B,S),I(L,E),D.forEach((function(t){j[t].of=T([C.bind(null,"maybe"),R[t],R,null]),B.maybe[t].of=A(S,j[t].of),B.not[t].of=A(S,L[t].of)})),function(r){void 0===(i=function(){return r}.call(e,n,e,t))||(t.exports=i)}(w(F,{assert:B,not:L,maybe:j}))}()},function(t){t.exports={defaultContainerStyles:{backgroundColor:"rgba(0,0,0,0.8)",minWidth:100,minHeight:45,position:"fixed",top:10,right:10,padding:15,fontSize:16,color:"white",borderRadius:3,boxShadow:"0px 0px 7px 2px rgba(0,0,0,0.2)",fontFamily:"sans-serif"},defaultPanelStyles:{borderTop:"1px solid #4a4444",marginTop:5,paddingTop:5},defaultPanelTitleStyles:{color:"#b1b0b0"},defaultPanelContentStyles:{fontSize:12}}},function(t){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t){(function(e){t.exports=e}).call(this,{})},function(t){var e,n;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(e="moz",n=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(e="webkit",n=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var i=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,r=window.mozRTCIceCandidate||window.RTCIceCandidate,o=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,a="https:"===window.location.protocol&&("webkit"===e&&26<=n||"moz"===e&&33<=n),u=window.AudioContext||window.webkitAudioContext,c=document.createElement("video"),l=c&&c.canPlayType&&"probably"===c.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:e,browserVersion:n,support:!!i&&l&&!!h,supportRTCPeerConnection:!!i,supportVp8:l,supportGetUserMedia:!!h,supportDataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),supportWebAudio:!(!u||!u.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!a,dataChannel:!!(i&&i.prototype&&i.prototype.createDataChannel),webAudio:!(!u||!u.prototype.createMediaStreamSource),mediaStream:!(!s||!s.prototype.removeTrack),screenSharing:!!a,AudioContext:u,PeerConnection:i,SessionDescription:o,IceCandidate:r,MediaStream:s,getUserMedia:h}},function(t,e,n){"use strict";function i(t,e,n){if(t in at)for(let n,i=0;i<at[t].length;i++)n=at[t][i],n.element.setAttribute(n.att,e);else{l("Building property cache for "+t);let r=[];(function e(i){if(i.children.length)for(let o=0;o<i.children.length;o++){e(i.children[o]);let s=i.children[o].attributes;for(let e,a=0;a<s.length;a++)e=s[a],-1!==e.value.indexOf(t)&&(i.children[o].removeAttribute(e.name),r.push({element:i.children[o],att:n}))}})(document),at[t]=r,i(t,e)}}function r(t,e,n=!1,i=!1){function r(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(t in st&&!i)for(let i=0;i<st[t].length;i++)if(n&&"RAW"===st[t][i].parentElement.tagName){let n=st[t][i].parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let r=o(e);for(let e=0;e<r.length;e++)n.appendChild(r[e]),st[t][i]=n.childNodes[0]}else st[t][i].nodeValue=e;else l("Building element cache for "+t),function(){var t=[];return function e(n){if(n.childNodes.length)for(var i=0;i<n.childNodes.length;i++)e(n.childNodes[i]);else n.nodeType===Node.TEXT_NODE&&t.push(n)}(document),t}().forEach((function(i){if(-1!==i.nodeValue.indexOf(t)){let s=st[t];if(null==s&&(s=[]),n&&"RAW"===i.parentElement.tagName){let n=i.parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let s=o(i.nodeValue.replace(new RegExp(r(t),"g"),e));for(let t=0;t<s.length;t++)n.appendChild(s[t]),i=n.childNodes[0]}else i.nodeValue=i.nodeValue.replace(new RegExp(r(t),"g"),e);s.push(i),st[t]=s}}))}function o(t){var e=document.createElement("template");return e.innerHTML=t,e.content.childNodes}function s(t){window.requestAnimationFrame((function(){window.requestAnimationFrame(t)}))}function a(){window.debugUi=new ot.a(document.body,{zIndex:999999999,backgroundColor:"black"}),s(()=>{document.getElementById("j3-info-popup").style.zIndex=99999999,document.getElementById("j3-info-popup").style.backgroundColor="black"}),window.debugUi.addPanel(ut.BUILD,()=>Me.build+" by "+Me.compiler+" "+Me.envDescription);for(let t=0;t<ht.length;t++)ht[t]();if(!ct){ct=!0;for(let t=0;t<lt.length;t++)lt[t]()}l("Enabling debug mode")}function u(t){return ct?(!Me.isProd&&t(),void ht.push(t)):void lt.push(t)}function c(t){Me.isProd||l(t)}function l(t){console.log("[OpenAudioMc] "+t),dt.push(t),7<dt.length&&dt.shift()}function h(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t+=""),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return bt.iterable&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function g(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function m(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=m(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:bt.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:bt.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:bt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():bt.arrayBuffer&&bt.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):bt.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||St(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):bt.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},bt.blob&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=m(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=Array(e.length),i=0;i<e.length;i++)n[i]=tt(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},bt.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}function w(t,e){var n=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=e.credentials||this.credentials||!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<Mt.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function S(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}})),e}function M(t){var e=new p;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}})),e}function x(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}function E(t,e){return new Promise((function(n,i){function r(){s.abort()}var o=new w(t,e);if(o.signal&&o.signal.aborted)return i(new Et("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:M(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new x(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new Et("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&bt.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",r),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",r)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}function k(t){l(t)}function C(t,e,n){E(kt.ERROR_REPORTING,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:e,message:"build 848: "+t})}).then(t=>{null!=n&&n(),t.json().then(t=>{console.log("Reported error. Reponse was: "+JSON.stringify(t))})}).catch(()=>{console.log("An error occoured while reporting another error. Weird.")})}async function O(t,e){const n=e.media.loop,i=e.media.startInstant,r=e.media.mediaId,o=e.media.source,s=e.media.doPickup,a=e.media.fadeTime,u=e.distance,c=e.media.flag,l=e.maxDistance;let h=100;null!=e.media.volume&&0!=e.media.volume&&(h=e.media.volume),t.getMediaManager().destroySounds(r,!1,!0);const d=new yt(r);d.trackable=!0;const f=new It;if(f.openAudioMc=t,f.setOa(t),await f.load(o),t.getMediaManager().mixer.addChannel(d),d.addSound(f),d.setChannelVolume(0),f.setLooping(n),d.setTag(r),0!==l){let t=this.convertDistanceToVolume(l,u);d.setTag("SPECIAL"),d.maxDistance=l,d.fadeChannel(t,a)}else d.setTag("DEFAULT"),setTimeout(()=>{0===a?(d.setChannelVolume(h),d.updateFromMasterVolume()):(d.updateFromMasterVolume(),d.fadeChannel(h,a))},1);d.setTag(c),t.getMediaManager().mixer.updateCurrent(),f.finalize().then(()=>{s&&f.startDate(i,!0),f.finish()})}function _(t,e){const n=e.message;t.notificationModule.sendNotification(e.title,n),new mt("#alert-area",{closeTime:3e4,persistent:!1,hideCloseButton:!1}).show(e.title+"<hr />"+n)}function T(t,e){const n=parseInt(e.protocolRevision);l("Received PROTOCOL revision update"),2<=n&&(l("PROTO rev => 2, enabling callbacks"),t.socketModule.callbacksEnabled=!0),3<=n&&(l("PROTO rev => 3, enabling youtube callbacks"),t.socketModule.supportsYoutube=!0),4<=n&&(l("PROTO rev => 4, enabling volume callbacks"),t.mediaManager.startVolumeWatcher(t))}function A(t,e){const n=e.volume;t.getMediaManager().setMasterVolume(n),document.getElementById("volume-slider").value=n}function I(t,e){t.getMediaManager().destroySounds(e.soundId,e.all,!1,e.fadeTime)}function P(t,e){const n=e.lights,i=e.hueColor,r="rgba("+i.r+","+i.g+","+i.b+","+function(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}(i.bir,[0,255],[0,1])+")";t.getHueModule().isLinked&&t.getHueModule().setLight(n,r)}function N(t,e){function n(t,e){return nt((t-e)/t*100)}const i=e.mediaOptions.target,r=e.mediaOptions.fadeTime,o=e.mediaOptions.distance;for(let e of t.getMediaManager().mixer.getChannels())e.hasTag(i)&&e.fadeChannel(n(e.maxDistance,o),r)}function R(t,e){const n=e.x,i=e.y,r=e.z,o=e.pitch,s=e.yaw;t.world.player.updateLocation(new Ft(n,i,r),o,s)}function F(t,e){const n=e.clientSpeaker,i=new Ft(n.location.x,n.location.y,n.location.z).add(.5,.5,.5),r=new Bt(n.id,n.source,i,n.type,n.maxDistance,n.startInstant,t);t.world.addSpeaker(n.id,r)}function B(t,e){const n=e.clientSpeaker;t.world.removeSpeaker(n.id)}function L(t,e){if(e.clear)l("Clearing pre-fetched resources"),setTimeout((function(){Tt={}}),2500);else{let t=e.source;l("Pre-fetching resource.."),setTimeout((function(){!async function(t){t=await At.translate(t);let e=new Audio;e.autoplay=!1,e.src=t,e.load(),Tt[t]=e}(t)}),2500)}}function j(t,e={}){let n="",i="",r="",o=0;return e.title&&e.title,e.primary&&(i=e.primary),e.secondary&&(r=e.secondary),e.wait&&(o=e.wait),U(t,i,r),document.getElementById("my-modal-2").checked=!0,function(t){document.getElementById("modal-primary").onclick=t}(D),0===o?null:new Promise(t=>{0===o?t():setTimeout(t,o)})}function D(){document.getElementById("my-modal-2").checked=!1}function U(t,e="",n=""){r("{{ modal.content }}",t,!0),r("{{ modal.primary }}",e,!0),r("{{ modal.secondary }}",n,!0),document.getElementById("modal-primary").style.display=""===e?"none":"",document.getElementById("modal-secondary").style.display=""===n?"none":""}function V(t,e){return null==RTCPeerConnection?void j("Your browser doesn't  support WebRTC, or it could be that a plugin or manual setting disabled it. OpenAudioMc promises only to use WebRTC for its intended purposes (serve media). Please check your browser settings and plugins, and then try again once you enabled it.",{title:"WebRTC error!",icon:"error"}).then(()=>{}):(t.voiceModule.enable(e.streamServer,e.streamKey,e.radius),void new mt("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show(getMessageString("notification.info.voicechat")))}function z(t,e){t.voiceModule.addPeer(e.targetUuid,e.targetPlayerName,e.targetStreamKey,e.location)}function G(t,e){null==e.streamKey?t.voiceModule.removeAllPeers():t.voiceModule.removePeer(e.streamKey)}function H(t,e){for(let n,i=0;i<e.updateSet.length;i++)n=e.updateSet[i],t.voiceModule.peerLocationUpdate(n.streamKey,n.x,n.y,n.z)}function W(){onMicMutePress()}function K(t,e){e.blurred?t.voiceModule.blurWithReason():t.voiceModule.unblur()}function q(t,e){function n(t,e){let n=0,r=e||t.innerHTML,o=r.length;Dt.push(window.setInterval((function(){n>=o&&(n=0),r=i(r,n),t.innerHTML=r,n++}),0))}function i(t,e){let n=tt(function(t,e){return it(Math.random()*(e-t+1))+t}(64,90));return t.substr(0,e)+n+t.substr(e+1,t.length)}let r,o,s=e.childNodes.length;if(-1<t.indexOf("<br>")){e.innerHTML=t;for(let t=0;t<s;t++)o=e.childNodes[t],3===o.nodeType&&(r=document.createElement("span"),r.innerHTML=o.nodeValue,e.replaceChild(r,o),n(r))}else n(e,t)}function J(t,e){let n=e.length,i=document.createElement("span"),r=!1;for(let o=0;o<n;o++)i.style.cssText+=Ut[e[o]]+";","§k"===e[o]&&(q(t,i),r=!0);return r||(i.innerHTML=t),i}function Y(t,e,n,i){E("https://cloud.openaudiomc.net/api/v3/account-services/client/login/"+i.publicServerKey).then((function(i){i.json().then(i=>{function r(t){t.endsWith("mp4")&&i.response.isPatreon?(document.getElementById("video-bg-wrapper").style.display="",document.getElementById("video-element").innerHTML+='<source src="'+t+'" id="video-bg-src" type="video/mp4">',setTimeout(()=>{document.getElementById("video-element").play()},300)):document.documentElement.style.setProperty("--background-image",'url("'+t+'")')}function o(e){!function(t,e){const n=t.replace("#","");parseInt(n.substring(0,2),16),parseInt(n.substring(2,4),16),parseInt(n.substring(4,6),16)}(e,40),document.documentElement.style.setProperty("--primary-accent",e);for(let n=0;n<Vt.length;n++)t.getUserInterfaceModule().changeColor(Vt[n],e);Vt=[e]}if(null==i.errors||0!=i.errors.length)return n(i.errors),console.log(i.errors),void Swal.fire({title:"error",html:"Something went terribly wrong while opening the OpenAudioMc web client. Please request a new link with /audio and try again",showCloseButton:!1,backdrop:"",showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1});let s=i.response;if(s.settings.banned)return void C("Declined connection due to ban "+window.location.host,"Steve",(function(){window.location.href="https://help.openaudiomc.net/blocked_domain.html"}));let a=s.secureEndpoint;l("accepting and applying settings");let u=s.settings.ambianceSound;null!=s.settings.backgroundImage&&""!=s.settings.backgroundImage&&(s.settings.backgroundImage="https://media.openaudiomc.net/proxy?apiurl="+s.settings.backgroundImage);const c=s.settings.backgroundImage;window.debugHooks.setBgImage=r,""!==c&&r(c);const h=s.settings.title,d=s.settings.activeMessage;let f=s.settings.welcomeMessage;if(f=f.replace("%name",t.tokenSet.name),i.response.settings.useTranslations||(t.messageModule.setKey("home.welcome",f),t.messageModule.setKey("home.activateText",s.settings.startButton),t.messageModule.setKey("home.header",d)),o(s.settings.color),window.debugHooks.setBgColor=o,""!=s.settings.startSound&&(t.getMediaManager().startSound=s.settings.startSound),"default"!==h){document.title=h;try{parent.document.title=h}catch(t){}}l("Logging into "+s.name+" with "+s.playerCount+" online player(s)"),e({fromCache:i.fromCache,host:a,background:c,ambianceSound:u,playerCount:i.response.playerCount,claimed:i.response.claimed,rtc:i.response.rtc,serverName:i.response.name,isPatreon:i.response.isPatreon,countryCode:i.response.countryCode,useTranslations:i.response.settings.useTranslations})}).catch(t=>{console.log("Dead end 1"),n(t)})})).catch((function(t){console.log("Dead end 2"),n(t)}))}function X(){Wt.canStart&&(i("{{ oam.click_request_style }}","display: none;","style"),i("{{ oam.hidden_until_started }}","","style"),Wt.start())}function $(t){i("{{ oam.loading_tagline_style }}","","style"),r("{{ oam.loading_tagline_text }}",t)}function Q(t){return ie[t]}function Z(){r("{{ oam.rtc_peer_count }}",""+ae)}var tt=String.fromCharCode,et=Math.abs,nt=Math.round,it=Math.floor;n.r(e);n(134);var rt=n(131),ot=n.n(rt);const st={},at={},ut={BUILD:"Build",UI:"Ui Templating",SESSION:"Session",ACCOUNT:"Account",AUDIO:"Mixer",SOCKET:"Socket",LOG:"Latest Log",RTC:"Streaming"};let ct=!1,lt=[],ht=[],dt=[];class ft{constructor(){this.isServerAhead=!1,this.msOffset=0,this.hasSynced=!1}sync(t){let e=new Date(t),n=new Date;this.isServerAhead=e.getTime()>n.getTime(),this.msOffset=this.isServerAhead?e.getTime()-n.getTime():n.getTime()-e.getTime(),this.hasSynced=!0}getPredictedTime(){this.hasSynced||(new Date).getTime();let t=(new Date).getTime();return new Date(this.isServerAhead?t+this.msOffset:t-this.msOffset)}}Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this};class pt{constructor(t){this.openAudioMc=t}changeColor(t,e){let n=function(t){return t=t.replace("#",""),"rgb("+parseInt(t.substring(0,2),16)+", "+parseInt(t.substring(2,4),16)+", "+parseInt(t.substring(4,6),16)+")"}(t);document.querySelectorAll("*").forEach((function(t){let i=window.getComputedStyle(t);Object.keys(i).reduce((function(r,o){let s=i[o],a=i.getPropertyValue(s);if(0<=a.indexOf(n)){let i=a.replace(n,e);0<=s.indexOf("border-top")?t.style.borderTop="2px solid "+i:t.style[s]=i}}))}))}}const gt="rtc_initialized";class mt{constructor(t,e){this.id=t,this.option=e,this.onTimeout=null}show(t,e=!1){if(""===t||null==t)throw'"msg parameter is empty"';if(this.alertArea=document.querySelector(this.id),this.alertBox=document.createElement("DIV"),this.alertContent=document.createElement("DIV"),this.alertClose=document.createElement("A"),this.alertClass=this,this.alertContent.classList.add("alert-content"),this.alertContent.innerHTML=e?t:"<p>"+t+"</p>",this.alertClose.classList.add("alert-close"),this.alertClose.setAttribute("href","#"),this.alertBox.classList.add("alert-box"),null!=this.option.extra&&this.alertBox.classList.add(this.option.extra),this.alertBox.appendChild(this.alertContent),this.option.hideCloseButton&&void 0!==this.option.hideCloseButton||this.alertBox.appendChild(this.alertClose),this.alertArea.appendChild(this.alertBox),this.alertClose.addEventListener("click",t=>{t.preventDefault(),this.alertClass.hide(this.alertBox)}),!this.option.persistent){let t=setTimeout(()=>{this.alertClass.hide(this.alertBox),clearTimeout(t)},this.option.closeTime)}return document.getElementById("notifications-empty").style.display="none",this}onClick(t){this.alertBox.onclick=t}hide(){this.alertBox.classList.add("hide");let t=setTimeout(()=>{this.alertBox.parentNode.removeChild(this.alertBox),clearTimeout(t),null!=this.onTimeout&&this.onTimeout(),1===document.getElementById("alert-area").children.length&&(document.getElementById("notifications-empty").style.display="")},500)}}class vt{constructor(t,e){return this.hue=e,this.bridges=[],this.isSsl=document.location.href.startsWith("https://"),this.isLinked=!1,this.currentBridge=null,this.currentUser=null,this.color=net.brehaut.Color,this.options={userid:Cookies.get("hueid")},this.openAudioMc=t,this.isSsl?(this.openAudioMc.log("Failed to initiate Philips Hue integration since this web page is served over ssl. The user will be promted to downgrade to HTTP when a user interaction is made that is related to Hue"),void(document.getElementById("hue-box-ssl").style.display="none")):(this.hue.discover().then(t=>{t.forEach(t=>{this.bridges.push(t),this.onDiscover()})}).catch(t=>console.log("Error finding bridges",t)),void(document.getElementById("hue-start-linking-button").onclick=()=>{this.startSetup()}))}onDiscover(){if(0!==this.bridges.length){if(this.openAudioMc.log(this.bridges.length+" hue bridges found"),this.isSsl)return;null!=this.options.userid&&this.openAudioMc.getHueModule().startSetup()}else this.openAudioMc.log("No hue bridges found")}openModal(){document.getElementById("hue-modal-parent").style.display=""}startSetup(){const t=this;document.getElementById("hue-link-menu").style.display="none",document.getElementById("hue-linking-menu").style.display="",this.bridges.forEach(e=>{t.linkBridge(e.internalipaddress)})}onConnect(){this.currentUser.getConfig().then(t=>{document.getElementById("hue-settings-menu").style.display="",document.getElementById("hue-linking-menu").style.display="none",document.getElementById("hue-link-menu").style.display="none",this.openAudioMc.getHueConfiguration().setBridgeName(t.name),this.currentUser.getLights().then(t=>{l("Registering lights");let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({name:t[n].name,id:parseInt(n)});this.openAudioMc.getHueConfiguration().setLightNamesAndIds(e);null!=Cookies.get("hue-state")&&(this.openAudioMc.getHueConfiguration().state=JSON.parse(Cookies.get("hue-state"))),this.openAudioMc.getHueConfiguration().applyState(),this.openAudioMc.getHueConfiguration().updateState()}).catch(t=>{console.error(t)}),this.openAudioMc.socketModule.send("hue_connected",{})})}updateSelector(t){setTimeout((function(){document.getElementById("default-group").selected=!1,document.getElementById("input-bridge-select").value=t}),200)}colorToHueHsv(t){const e=this.color(t).toHSV();return{on:0!=2*e.alpha*127.5,hue:it(65535*e.hue/360),sat:it(255*e.saturation),bri:nt(2*e.alpha*127.5)}}setLight(t,e){let n=[];if("number"==typeof t){let e=this.openAudioMc.getHueConfiguration().getBulbStateById(t-1);if(-1===e)return!1;n.push(e)}else if(t.startsWith("["))JSON.parse(t).forEach(t=>{let e=this.openAudioMc.getHueConfiguration().getHueIdFromId(t-1);return-1!==e&&void n.push(e)});else{let e=this.openAudioMc.getHueConfiguration().getHueIdFromId(parseInt(t)-1);if(-1===e)return!1;n.push(e)}n.forEach(t=>{this.currentUser.setLightState(t,this.colorToHueHsv(e)).then(()=>{})})}linkBridge(t,e){if(r("{{ hue.linkingUpdate }}",window.getMessageString("hue.preparing")),null==e&&null!=this.options.userid)return r("{{ hue.linkingUpdate }}",window.getMessageString("hue.loggingIn")),this.currentUser=this.hue.bridge(t).user(this.options.userid),void this.currentUser.getGroups().then(e=>{null!=e[0]&&null==e[0].error?this.linkBridge(t,"error"):(this.openAudioMc.log("Linked with hue bridge after trying to connect with the old username"),this.isLinked=!0,this.onConnect())});if(this.currentBridge=this.hue.bridge(t),null==this.currentBridge)return void this.openAudioMc.log("Invalid bridge IP");const n=this;let i=0,o=-1;o=setInterval(()=>{function t(){clearInterval(o)}if(i++,60<i)return t(),this.startSetup(),void this.openAudioMc.log("Failed to authenticate with bridge in 60 seconds.");let e=60-i;r("{{ hue.linkingUpdate }}",window.getMessageString("hue.linking"),[["%sec",e]]),n.currentBridge.createUser("OpenAudioMc#WebClient").then(e=>{null==e[0].error?null!=e[0].success&&(n.currentUser=n.currentBridge.user(e[0].success.username),this.openAudioMc.log("Linked with hue bridge after "+i+" attempt(s)."),n.isLinked=!0,n.onConnect(),t()):101===e[0].error.type||(t(),this.openAudioMc.log("Unexpected error while connecting: "+e[0].error.type))})},1e3)}}class yt{constructor(t){this.channelName=t,this.channelVolume=100,this.sounds=[],this.mixer=null,this.targetAfterFade=0,this.isFading=!1,this.fadeTimer=[],this.tags=new Map,this.trackable=!1}setTag(t){this.tags.set(t,!0)}hasTag(t){return this.tags.has(t)}hasSoundPlaying(){for(let t of this.sounds.values())return!0;return!1}addSound(t){this.sounds.push(t);for(let t of this.sounds.values())t.registerMixer(this.mixer,this);this._updateVolume()}setChannelVolume(t){this.channelVolume=t,this._updateVolume()}registerMixer(t){this.mixer=t;for(let t of this.sounds.values())t.registerMixer(this.mixer,this)}fadeChannel(t,e,n){this.interruptFade(),null==n&&(n=()=>{}),this.targetAfterFade=t,this.isFading=!0,((t,e,i,r)=>{e=e||1e3,i=i||0,r=r;let o=this.channelVolume,s=e/et(o-i),a=setInterval(()=>{o=o>i?o-1:o+1;let t=this.mixer.masterVolume,e=o/100*t;for(let t of this.sounds)t.setVolume(e);if(this.channelVolume=o,o==i){n(),clearInterval(a);const t=this.fadeTimer.indexOf(a);-1<t&&this.fadeTimer.splice(t,1),this.isFading=!1,a=null}},s);this.fadeTimer.push(a)})(0,e,t,n)}interruptFade(){if(this.isFading){this.isFading=!1,this.setChannelVolume(this.targetAfterFade);for(let t of this.fadeTimer)clearInterval(t)}}_updateVolume(){this.interruptFade();let t=this.mixer.masterVolume,e=this.channelVolume/100*t;for(let t of this.sounds)t.loaded&&t.setVolume(e)}updateFromMasterVolume(){let t=this.mixer.masterVolume,e=this.channelVolume/100*t;for(let t of this.sounds)t.setVolume(e)}destroy(){this.interruptFade();for(let t of this.sounds)t.destroy()}}var bt={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(bt.arrayBuffer)var wt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],St=ArrayBuffer.isView||function(t){return t&&-1<wt.indexOf(Object.prototype.toString.call(t))};p.prototype.append=function(t,e){t=h(t),e=d(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[h(t)]},p.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},p.prototype.set=function(t,e){this.map[h(t)]=d(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},bt.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var Mt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var t=new x(null,{status:0,statusText:""});return t.type="error",t};var xt=[301,302,303,307,308];x.redirect=function(t,e){if(-1===xt.indexOf(e))throw new RangeError("Invalid status code");return new x(null,{status:e,headers:{location:t}})};var Et=self.DOMException;try{new Et}catch(e){(Et=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),Et.prototype.constructor=Et}E.polyfill=!0,self.fetch||(self.fetch=E,self.Headers=p,self.Request=w,self.Response=x);const kt={CONTENT_PROXY:"https://media.openaudiomc.net/proxy?apiurl=",YOUTUBE_PROXY:"https://media.openaudiomc.net/youtube?id=",SOUNDCLOUD_PROXY:"https://media.openaudiomc.net/soundcloud?u=",DRIVE_PROXY:"https://media.openaudiomc.net/googledrive?id=",ERROR_REPORTING:"https://plus.openaudiomc.net/cf-log/production",MAIN_BACKEND:"https://plus.openaudiomc.net/",CLIENT_SESSION_SERVER:"https://plus.openaudiomc.net/session"};class Ct{constructor(t,e,n,i,r){this.publicServerKey=t,this.uuid=e,this.name=n,this.token=i,this.scope=r,this.attempts=0}initialize(){return new Promise(t=>{let e=window.location.href;if(null!=e)if(2<=e.split("?").length){const n=class{constructor(){}static getParametersFromUrl(t){if(-1==t.indexOf("&"))return{};var e=t.split("&");let n={};for(let t=0;t<e.length;t++){let i=e[t].split("="),r=decodeURIComponent(i[0]),o=decodeURIComponent(i[1]);void 0===n[r]?n[r]=decodeURIComponent(o):"string"==typeof n[r]?n[r]=[n[r],decodeURIComponent(o)]:n[r].push(decodeURIComponent(o))}return n}}.getParametersFromUrl(e.split("?")[1]);if(null==n.data)return void t(null);let i=atob(n.data).split(":");if(4!==i.length)return console.log("Invalid query length"),t(null),null;const r=i[0],o=i[1],s=i[2],a=i[3];null!=r&&16>=r.length&&null!=o&&40>=o.length&&null!=s&&40>=s.length&&null!=a&&5>=a.length||(console.log("Failed parsing the token"),t(null));const u=new Ct(s,o,r,a);window.tokenCache=u,console.log("Resolving legacy token"),t(u)}else if(2<=e.split("#").length){let n=e.split("#")[1];E(kt.CLIENT_SESSION_SERVER+"?token="+n).then(e=>{e.json().then(e=>{if(0<e.errors.length)return void(3>this.attempts?(l("Failed to load session, trying again in a bit."),setTimeout(()=>{this.requestWasPreviouslyAttempted=!0,this.initialize().then(t),this.attempts++},1e3)):(console.log("Session error"),t(null)));let n=e.response;null==n.hasOwnProperty("serverIdentity")?(k("No identity to fetch"),i("{{ oam.logo_image }}","https://minotar.net/helm/"+n.playerName)):async function(t,e){k("Fetching identity..");let n=await E("https://cloud.openaudiomc.net/identity?token="+t),r=await n.json();return 0<r.errors.length?void console.error("Could not load identity "+t):(document.querySelector("link[rel*='icon']").href=r.response.icon+"&name="+e,i("{{ oam.logo_image }}",r.response.icon+"&name="+e),k("Native minecraft version: "+r.response.version),void k("Minecraft motd: "+r.response.motd))}(n.serverIdentity,n.playerName).then(()=>console.log).catch(()=>console.log);const r=new Ct(n.publicKey,n.playerUuid,n.playerName,n.session,n.scope);window.tokenCache=r,t(r)}).catch(t=>{console.error(t)})}).catch(t=>{C("Something went while requesting tokens. Error: "+t.toJSON(),window.tokenCache.name),console.error(t)})}else t(null);else t(null)})}fromCache(){if(null!=window.tokenCache)return window.tokenCache;throw new Error("No token cache in window.")}}const Ot={PROXY:kt.CONTENT_PROXY,YOUTUBE:kt.YOUTUBE_PROXY,DRIVE:kt.DRIVE_PROXY};class _t{constructor(){this.startedRandomly=!1,this.lastIndex=0}async translate(t){let e=this.handleRandomizedPlaylist(t);try{if(e.includes("media.openaudiomc.net"))return t;if(e=e.replace("https://api.openaudiomc.net/stream.php?u=",""),e.includes("http://docs.google.com/uc?export=open&id=")&&(e=e.replace("http://docs.google.com/uc?export=open&id=",Ot.DRIVE)),e.includes("https://docs.google.com/uc?export=open&id=")&&(e=e.replace("https://docs.google.com/uc?export=open&id=",Ot.DRIVE)),e.includes("https://drive.google.com/")&&(e=e.split("file/d/")[1],e=Ot.DRIVE+e.split("/view")[0]),this.isYoutube=!1,e.includes("youtube.")){let t=e.split("v=")[1];t.includes("&")&&(t=t.split("&")[0]),e=Ot.YOUTUBE+t,this.isYoutube=!0}else if(e.includes("youtu.be")){let t=e.split(".be/")[1];e=Ot.YOUTUBE+t,this.isYoutube=!0}if(e.includes("https://weathered-dust-0281.craftmend.workers.dev/")&&(e=e.replace("https://weathered-dust-0281.craftmend.workers.dev/","")),e.includes("soundcloud.com")){let t=await fetch("https://media.openaudiomc.net/2/soundcloud?u="+e),n=await t.json();if(n.hasOwnProperty("stream"))return document.getElementById("sc-cover").style.display="",document.getElementById("sc-title").style.display="",r("{{ oam.soundcloud_title }}",n.artist+" - "+n.title),document.getElementById("sc-title").onclick=()=>{window.open(n.link)},document.getElementById("sc-cover").src=n.photo,n.stream}"https:"===location.protocol&&e.includes("http")&&!e.includes("https://")&&(e=Ot.PROXY+e)}catch(e){return console.log("Middleware error"),console.log(e),t}return e}handleRandomizedPlaylist(t){if(t.startsWith("[")&&t.endsWith("]")){let e=JSON.parse(t);if(!this.startedRandomly){let t=it(Math.random()*e.length);return this.lastIndex=t,this.startedRandomly=!0,e[t]}return this.lastIndex++,this.lastIndex>e.length-1&&(this.lastIndex=0),e[this.lastIndex]}return t}}let Tt={},At=new _t;class It extends _t{constructor(){super(),this.hadError=!1,this.error=null,this.trackable=!1,this.onFinish=[],this.loop=!1,this.mixer=null,this.channel=null,this.finsishedInitializing=!1,this.gotShutDown=!1,this.loaded=!1,this.initCallbacks=[],this.startedLoading=!1,this.destroyed=!1}whenInitialized(t){this.loaded?t():this.initCallbacks.push(t)}async load(t,e=!0){if(!this.startedLoading){this.startedLoading=!0,this.rawSource=t,t=await this.translate(t),this.soundElement=await async function(t,e=!1,n=!0){if(!n)return new Audio;e||(t=await At.translate(t));let i=Tt[t];return null==i?new Audio:(c("Resolving cache for source "+t),i)}(t,!0,e),this.soundElement.onerror=t=>{this.hadError=!0,this.error=t,this._handleError()},this.soundElement.src=t,this.source=t,this.soundElement.setAttribute("preload","auto"),this.soundElement.setAttribute("controls","none"),this.soundElement.setAttribute("display","none"),this.soundElement.preload="auto",this.soundElement.abort=console.log,this.loaded=!0;for(let t=0;t<this.initCallbacks.length;t++)this.initCallbacks[t]()}}setOa(t){this.openAudioMc=t,this._handleError()}_handleError(){if(this.hadError&&null!=this.openAudioMc&&"error"==this.error.type){let e=this.soundElement.error.code,n=null;if(this.isYoutube?n=this.openAudioMc.socketModule.supportsYoutube?"YOUTUBE_ERR":"MEDIA_ERR_SRC_NOT_SUPPORTED":1===e?n="MEDIA_ERR_ABORTED":2===e?n="MEDIA_ERR_NETWORK":3===e?n="MEDIA_ERR_DECODE":4===e&&(n="MEDIA_ERR_SRC_NOT_SUPPORTED"),null!=n){l("Reporting media failure "+n);var t=function(t,e,n){var i={};return Object.getOwnPropertyNames(t).forEach((function(e){i[e]=t[e]})),JSON.stringify(i,e,n)};null!=this.source&&"null"!=this.source&&this.openAudioMc.sendError("A sound failed to load.\nurl="+this.source+"\nerror-code="+this.soundElement.error.code+"\nerror-message="+this.soundElement.error.message+"\ndetected-error="+n+"\ndump="+t(this.error,null,"\t")+t(this.soundElement.error,null,"\t")+"\nhostname="+window.location.host+"\nuseragent="+window.navigator.userAgent),this.openAudioMc.socketModule.send("media_failure",{mediaError:n,source:this.soundElement.src})}}}addNode(t,e){null==this.controller&&(this.soundElement.crossOrigin="anonymous",!this.soundElement.src.includes("openaudiomc.net")&&(this.soundElement.src=Ot.PROXY+this.soundElement.src),this.controller=t.audioCtx.createMediaElementSource(this.soundElement)),this.controller.connect(e)}registerMixer(t,e){this.mixer=t,this.channel=e}finalize(){return new Promise(t=>{this.soundElement.onended=async()=>{this.gotShutDown||!this.finsishedInitializing||(this.onFinish.forEach(t=>{t()}),this.loop?(this.soundElement.src=await this.translate(this.rawSource),this.setTime(0),this.soundElement.play()):(this.mixer.removeChannel(this.channel),!this.soundElement.paused&&this.soundElement.pause()))};let e=!1;const n=()=>{if(!this.gotShutDown){if(!e){let e=this.soundElement.play();e instanceof Promise?e.then(t).catch(t):t()}e=!0}};this.soundElement.onplay=()=>{this.gotShutDown&&(l("Canceled a sound that started to play, for some reason."),this.soundElement.pause())},this.soundElement.onprogress=n,this.soundElement.oncanplay=n,this.soundElement.oncanplaythrough=n})}setLooping(t){this.loop=t}finish(){this.finsishedInitializing=!0}setOnFinish(t){this.onFinish.push(t)}setVolume(t){this.whenInitialized(()=>{100<t&&(t=100),this.soundElement.volume=t/100})}startDate(t){this.whenInitialized(()=>{let e=new Date(t),n=(this.openAudioMc.timeService.getPredictedTime()-e)/1e3;l("Started "+n+" ago");let i=this.soundElement.duration;if(n>i){n-=it(n/i)*i}l("Starting "+n+" in"),this.setTime(n)})}setTime(t){this.soundElement.currentTime=t}destroy(){this.whenInitialized(()=>{this.destroyed=!0,this.gotShutDown=!0,this.setLooping(!1),this.soundElement.pause(),this.soundElement.remove()})}}"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach((function(e){t[e]=this[e]}),this),t},configurable:!0,writable:!0});class Pt{constructor(t,e){this.openAudioMc=e,this.mixerName=t,this.masterVolume=100,this.channels=new Map,this.areSoundsPlaying=!1,this.ambianceSoundMedia=null,this.recentSource="/none",u(()=>{window.debugUi.addPanel(ut.AUDIO,()=>"playingChannels="+this.channels.size+", prefetched="+Object.keys(Tt).length+", recent="+this.recentSource.split("/")[this.recentSource.split("/").length-1])})}_updatePlayingSounds(){let t=!1;this.channels.forEach(e=>{e.hasSoundPlaying()&&(t=!0)}),t!=this.areSoundsPlaying&&(this._playingStateChangeChanged(t),this.areSoundsPlaying=t)}_playingStateChangeChanged(t){null==this.ambianceSoundMedia||(t?(console.log("Stopping ambiance sound"),this.ambianceSoundMedia.fadeChannel(0,800,()=>{})):(console.log("Starting ambiance sound"),this.ambianceSoundMedia.fadeChannel(this.masterVolume,800,()=>{})))}async setupAmbianceSound(t){let e=new yt("ambiance-lol-dics"),n=new It;n.setOa(this.openAudioMc),e.mixer=openAudioMc.getMediaManager().mixer,await n.load(t),e.addSound(n),n.setLooping(!0),n.setVolume(0),n.finalize().then(()=>{n.finish()}),e.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia=e,this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.setChannelVolume(0),this.ambianceSoundMedia.updateFromMasterVolume(this.masterVolume),this._updatePlayingSounds()}updateCurrent(){let t=[];this.channels.forEach((e,n)=>{let i=[];e.tags.forEach((t,e)=>{i.push(e)}),e.trackable&&t.push({name:n,tags:i})}),this._updatePlayingSounds()}setMasterVolume(t){this.masterVolume=t;for(let t of this.channels.values())t.updateFromMasterVolume();null!=this.ambianceSoundMedia&&(this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.updateFromMasterVolume(t))}removeChannel(t){let e;e=t instanceof yt?t:this.channels.get(t),null!=e&&(e.destroy(),this.channels.delete(e.channelName)),this._updatePlayingSounds()}getChannels(){return this.channels.values()}addChannel(t){if(!(t instanceof yt))throw new Error("Argument isn't a channel");{const e=t.channelName,n=this.channels.get(e);null!=n&&n.destroy(),t.registerMixer(this),this.channels.set(e,t),setTimeout(()=>{for(let e in t.sounds)this.recentSource=t.sounds[e].rawSource},1e3)}this._updatePlayingSounds()}}class Nt{constructor(t){this.sounds={},this.masterVolume=80,this.openAudioMc=t,this.startSound=null,this.mixer=new Pt(null,t),document.getElementById("volume-slider").oninput=()=>{let t=document.getElementById("volume-slider").value;this.setMasterVolume(t),Cookies.set("volume",t,{expires:30})}}startVolumeMonitor(t){let e=-1;setInterval(()=>{e!=this.masterVolume&&(e=this.masterVolume,t.socketModule.send("volume_changed",{volume:this.masterVolume}))},300)}async setupAmbianceSound(t){""==t||null==t||await this.mixer.setupAmbianceSound(t)}startVolumeWatcher(t){this.startVolumeMonitor(t)}postBoot(){if(null!=this.startSound){const t=new yt("startsound"),e=new It;t.mixer=this.openAudioMc.getMediaManager().mixer,e.openAudioMc=this.openAudioMc,e.setOa(this.openAudioMc),e.load(this.startSound).then(()=>{t.addSound(e),e.setOnFinish(()=>{setTimeout(()=>{this.mixer._updatePlayingSounds()},1e3)}),e.finalize().then(()=>{this.mixer.addChannel(t),t.setChannelVolume(100),t.updateFromMasterVolume(),e.finish()})})}else setTimeout(()=>{this.mixer._updatePlayingSounds()},500)}destroySounds(t,e,n,i,r=function(){}){let o=i;null==o&&(o=500),n&&(o=0);for(let n of this.mixer.getChannels())e?n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):null==t||""===t?n.hasTag("SPECIAL")||n.hasTag("REGION")||n.hasTag("SPEAKER")||n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):n.hasTag(t)&&(n.sounds.forEach(t=>{t.gotShutDown=!0}),n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n),r()}))}setMasterVolume(t){this.masterVolume=t,r("{{ oam.volume }}",0===t?t+"(muted)":t+"%"),Cookies.set("volume",t,{expires:30}),this.mixer.setMasterVolume(t)}changeVolume(t){document.getElementById("volume-slider").value=t,this.setMasterVolume(t)}getMasterVolume(){return this.masterVolume}}class Rt{constructor(t,e){if(this.handlers={},this.openAudioMc=t,this.callbacksEnabled=!1,this.supportsYoutube=!1,this.hasConnected=!1,this.outgoingQueue=[],this.inCount=0,this.outCount=0,u(()=>{window.debugUi.addPanel(ut.SOCKET,()=>"in="+this.inCount+", out="+this.outCount+", ok="+this.socket.connected)}),null==(new Ct).fromCache())return console.log("Empty authentication"),void console.log("Bad auth todo");this.state="loading",this.authHeader="type=client&n="+t.tokenSet.name+"&player="+t.tokenSet.uuid+"&s="+t.tokenSet.publicServerKey+"&p="+t.tokenSet.token;const n=this;this.socket=io(e,{query:n.authHeader,autoConnect:!1,withCredentials:!1}),this.socket.on("connect",()=>{t.socketModule.state="ok",this.hasConnected=!0,this.outgoingQueue.forEach(t=>{this.send(t.key,t.value)})}),this.socket.on("time-update",t=>{let e=t.split(":"),n=parseInt(e[1]),i=parseInt(e[0]);this.openAudioMc.getTimeService().sync(i,n)}),this.socket.on("disconnect",()=>{t.debugPrint("closed"),t.getMediaManager().destroySounds(null,!0),n.state="closed",i("{{ oam.loader_style }}","display: -;","style"),i("{{ oam.login_style }}","display: -;","style"),i("{{ oam.loader_status }}","display: none;","style"),setTimeout(()=>{t.getMediaManager().sounds={}},1010),t.voiceModule.shutDown()}),this.socket.on("data",t=>{let e=t.type.split("."),i=e[e.length-1];null!=n.handlers[i]&&n.handlers[i](t.payload),this.inCount++}),this.socket.connect()}send(t,e){if(this.outCount++,this.hasConnected){if(!this.callbacksEnabled)return void l("could not satisfy callback "+t+" because the protocol is outdated");l("Submitting value for "+t),this.socket.emit(t,e)}else this.outgoingQueue.push({key:t,value:e})}registerHandler(t,e){this.handlers[t]=e}}class Ft{constructor(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}add(t,e,n){return this.x+=t,this.y+=e,this.z+=n,this}applyQuaternion(t){let e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,u=a*e+o*i-s*n,c=a*n+s*e-r*i,l=a*i+r*n-o*e,h=-r*e-o*n-s*i;return this.x=u*a+h*-r+c*-s-l*-o,this.y=c*a+h*-o+l*-r-u*-s,this.z=l*a+h*-s+u*-o-c*-r,this}square(t){return t*t}distance(t){const e=this.square(this.x-t.x)+this.square(this.y-t.y)+this.square(this.z-t.z);return Math.sqrt(e)}}class Bt{constructor(t,e,n,i,r,o,s){this.id=t,this.source=e,this.location=n,this.type=i,this.maxDistance=r,this.startInstant=o,this.openAudioMc=s,this.channel=null}getDistance(t,e){return e.location.distance(this.location)}}window.enableOpenAudioDebugMode=function(){Me.isProd=!1,a()};class Lt{constructor(t){function e(e,n){t.socketModule.registerHandler(e,e=>n(t,e))}e("ClientVersionPayload",T),e("NotificationPayload",_),e("HueColorPayload",P),e("ClientPlayerLocationPayload",R),e("ClientSpeakerCreatePayload",F),e("ClientSpeakerDestroyPayload",B),e("ClientPreFetchPayload",L),e("ClientUpdateMediaPayload",N),e("ClientCreateMediaPayload",O),e("ClientDestroyMediaPayload",I),e("ClientVolumePayload",A),e("ClientVoiceChatUnlockPayload",V),e("ClientVoiceSubscribePayload",z),e("ClientVoiceDropPayload",G),e("ClientVoiceUpdatePeerLocationsPayload",H),e("ClientVoiceChatToggleMicrophonePayload",W),e("ClientVoiceBlurUiPayload",K)}}class jt{constructor(){this.dropdowns=[],this.state=[],this.dropdowns.push(document.getElementById("bulb-selection-1")),this.dropdowns.push(document.getElementById("bulb-selection-2")),this.dropdowns.push(document.getElementById("bulb-selection-3")),this.dropdowns.forEach(t=>{t.onchange=()=>{this.select()}})}setBridgeName(t){r("{{ oam.hue_bridge_name }}",t)}select(){this.updateState()}applyState(){this.state.forEach(t=>{this.getInputById(t.bulb).selectedIndex=t.selectedIndex})}updateState(){this.state=[];for(let t=0;t<this.dropdowns.length;t++){const e=this.dropdowns[t];this.state.push(this.obtainSelection(document.getElementById(e.id)))}Cookies.set("hue-state",this.state,{expires:30})}obtainSelection(t){const e=t.dataset.bulb,n=t.options[t.selectedIndex].dataset.light;return{selectedIndex:t.selectedIndex,bulb:e,value:n}}getBulbStateById(t){return this.state.forEach(e=>{if(e.id==t)return e}),-1}getInputById(t){for(const e of this.dropdowns)if(e.dataset.bulb==t)return e}getHueIdFromId(t){return this.state[parseInt(t)].value}setLightNamesAndIds(t){let e="";for(let n=0;n<t.length;n++){const i=t[n];e+="<option data-light='"+i.id+"'>"+i.name+"</option>"}for(let t=0;t<this.dropdowns.length;t++){const n=this.dropdowns[t];document.getElementById(n.id).innerHTML+="<div>"+e+"</div>"}}}let Dt=[],Ut={"&4":"font-weight:normal;text-decoration:none;color:#be0000","&c":"font-weight:normal;text-decoration:none;color:#fe3f3f","&6":"font-weight:normal;text-decoration:none;color:#d9a334","&e":"font-weight:normal;text-decoration:none;color:#fefe3f","&2":"font-weight:normal;text-decoration:none;color:#00be00","&a":"font-weight:normal;text-decoration:none;color:#3ffe3f","&b":"font-weight:normal;text-decoration:none;color:#3ffefe","&3":"font-weight:normal;text-decoration:none;color:#00bebe","&1":"font-weight:normal;text-decoration:none;color:#0000be","&9":"font-weight:normal;text-decoration:none;color:#3f3ffe","&d":"font-weight:normal;text-decoration:none;color:#fe3ffe","&5":"font-weight:normal;text-decoration:none;color:#be00be","&f":"font-weight:normal;text-decoration:none;color:#ffffff","&7":"font-weight:normal;text-decoration:none;color:#bebebe","&8":"font-weight:normal;text-decoration:none;color:#3f3f3f","&0":"font-weight:normal;text-decoration:none;color:#000000","&l":"font-weight:bold","&n":"text-decoration:underline;text-decoration-skip:spaces","&o":"font-style:italic","&m":"text-decoration:line-through;text-decoration-skip:spaces"};String.prototype.replaceColorCodes=function(){return function(){for(let t=Dt.length;t--;)clearInterval(Dt[t]);Dt=[]}(),function(t){var e,n,i=t.match(/&.{1}/g)||[],r=[],o=[],s=document.createDocumentFragment(),a=i.length;t=t.replace(/\n|\\n/g,"<br>");for(let e=0;e<a;e++)r.push(t.indexOf(i[e])),t=t.replace(i[e],"\0\0");0!==r[0]&&s.appendChild(J(t.substring(0,r[0]),[]));for(let u=0;u<a;u++){if(2===(n=r[u+1]-r[u])){for(;2==n;)o.push(i[u]),u++,n=r[u+1]-r[u];o.push(i[u])}else o.push(i[u]);-1<o.lastIndexOf("§r")&&(o=o.slice(o.lastIndexOf("§r")+1)),e=t.substring(r[u],r[u+1]),s.appendChild(J(e,o))}return s}(this+"")};let Vt=["#2c78f6","#4F46E5"];class zt{constructor(t){this.host=t}route(t){return new Promise((e,n)=>{this.tokenSet=(new Ct).fromCache(),l("Using account based profile system..."),Y(t,e,n,this.tokenSet)})}}class Gt{constructor(t){this.main=t,this.requestBox=null}setupPermissions(){"granted"===Notification.permission||"denied"!==Notification.permission&&(this.requestBox=new mt("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}),this.requestBox.show(getMessageString("notification.setup")),s(()=>{document.getElementById("noti-perm-request-link").onclick=()=>{this.requestNotificationPermissions()}}))}sendNotification(t,e,n=null){null==n&&(n=this.main.tokenSet.uuid),new Notification(t,{body:e,icon:"https://minotar.net/helm/"+n}),new mt("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show('<div style="text-align: center;" class="medium-text">'+e+"</div>")}requestNotificationPermissions(){Notification.requestPermission().then(t=>{"granted"===t&&(this.requestBox.hide(),new mt("#alert-area",{closeTime:1500,persistent:!1,hideCloseButton:!0}).show(getMessageString("notification.success")),this.sendNotification(getMessageString("notification.test.title"),getMessageString("notification.test.body")))})}}var Ht=n(132);let Wt=null;class Kt{constructor(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}}class qt{constructor(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0===i?1:i}setFromEuler(t){var e=Math.sin,n=Math.cos;let i=t.x,r=t.y,o=t.z,s=n(i/2),a=n(r/2),u=n(o/2),c=e(i/2),l=e(r/2),h=e(o/2);return this.x=c*a*u+s*l*h,this.y=s*l*u-c*a*h,this.z=s*a*h+c*l*u,this.w=s*a*u-c*l*h,this}}class Jt{constructor(t=new Ft,e=new qt){this.position=t,this.rotation=e}applyTo(t){const e=this.position,n=new Ft(0,0,1).applyQuaternion(this.rotation),i=new Ft(0,1,0).applyQuaternion(this.rotation);t.positionX?(t.positionX.value=e.x,t.positionY.value=e.y,t.positionZ.value=e.z):t.setPosition(e.x,e.y,e.z),t instanceof PannerNode?t.orientationX?(t.orientationX.value=n.x,t.orientationY.value=n.y,t.orientationZ.value=n.z):t.setOrientation(n.x,n.y,n.z):t.forwardX?(t.forwardX.value=n.x,t.forwardY.value=n.y,t.forwardZ.value=n.z,t.upX.value=i.x,t.upY.value=i.y,t.upZ.value=i.z):t.setOrientation(n.x,n.y,n.z,i.x,i.y,i.z)}}class Yt{constructor(t,e,n,i){this.world=t,this.audioCtx=new AudioContext,this.listener=this.audioCtx.listener,this.updateLocation(e,n,i)}updateLocation(t,e,n){this.location=t,this.pitch=this.toRadians(e),this.yaw=this.toRadians(this.normalizeYaw(360-n));const i=new Kt(this.pitch,this.yaw,0),r=new qt;r.setFromEuler(i);new Jt(t,r).applyTo(this.listener),this.world.onLocationUpdate()}toRadians(t){return t*(Math.PI/180)}normalizeYaw(t){return 0>(t%=360)&&(t+=360),t}}class Xt{constructor(t,e,n){this.source=t,this.distance=e,this.speaker=n}}const $t="SPEAKER_2D";class Qt{constructor(t,e,n,i,r,o){this.pannerNode=n.audioCtx.createPanner(),this.media=i,i.load(r,!1).then(()=>{o.fadeChannel(100,100),i.addNode(n,this.pannerNode),this.pannerNode.panningModel="HRTF",this.pannerNode.rolloffFactor=.9,this.pannerNode.distanceModel="linear",this.pannerNode.coneOuterGain=1,this.pannerNode.coneInnerAngle=120,this.pannerNode.maxDistance=t.maxDistance;const e=t.location;new Jt(e).applyTo(this.pannerNode),this.pannerNode.connect(n.audioCtx.destination)})}}class Zt{constructor(t,e,n){this.id="SPEAKER__"+e,this.openAudioMc=t,this.speakerNodes=new Map,this.source=e,this.startInstant=n,this.initialized=!1,this.whenInitialized=[]}async initialize(){const t=new yt(this.id);t.trackable=!0,this.channel=t;const e=new It(this.source);this.media=e,e.openAudioMc=openAudioMc,e.setOa(openAudioMc),t.mixer=this.openAudioMc.getMediaManager().mixer,t.addSound(e),openAudioMc.getMediaManager().mixer.addChannel(t),e.whenInitialized(async()=>{t.setChannelVolume(0),e.startDate(this.startInstant,!0),await e.finalize(),e.setLooping(!0),t.setTag(this.id),t.setTag("SPECIAL"),this.openAudioMc.getMediaManager().mixer.updateCurrent(),e.startDate(this.startInstant,!0),e.finish()}),this.initialized=!0}removeSpeakerLocation(t){null!=this.speakerNodes.get(t)&&this.speakerNodes.delete(t)}updateLocation(t,e,n){if(t.type==$t){this.media.load(this.source,!0);const i=t.getDistance(e,n),r=this._convertDistanceToVolume(t.maxDistance,i);if(0>=r)return;this.channel.fadeChannel(r,100)}else this.speakerNodes.has(t.id)||this.speakerNodes.set(t.id,new Qt(t,e,n,this.media,this.source,this.channel))}_convertDistanceToVolume(t,e){return nt((t-e)/t*100)}remove(){this.media.loaded||c("WARNING! wanted to stop "+this.id+" but it isn't loaded yet"),this.openAudioMc.getMediaManager().destroySounds(this.id,!1,!1,500,()=>{this.media.destroyed?c("It got destroyed successfully"):(c("Failed to destroy a world sound, so I had to do it again."),this.media.destroy())})}}class te{constructor(t){this.openAudioMc=t,this.speakers=new Map,this.audioMap=new Map,this.player=new Yt(this,new Ft(0,0,0),0,0)}getSpeakerById(t){return this.speakers.get(t)}addSpeaker(t,e){this.speakers.set(t,e),this.renderAudio2D()}removeSpeaker(t){this.speakers.delete(t),this.audioMap.forEach((t,e)=>{t.removeSpeakerLocation(e)}),setTimeout(()=>{this.renderAudio2D()},600)}async getMediaForSource(t,e){const n=this.audioMap.get(t);if(null!=n)return n;if(null==e)return null;const i=new Zt(this.openAudioMc,t,e);return this.audioMap.set(t,i),await i.initialize(),i}async removeMediaFromSource(t){const e=await this.getMediaForSource(t);return null==e?void c("Couldn't stop world media for "+t+" because it didn't exist"):(e.remove(),c("Cleared world media "+t),void this.audioMap.delete(t))}onLocationUpdate(){this.renderAudio2D()}isMediaUsed(t){for(let e of this.speakers.values())if(e.source==t)return!0;return!1}async renderAudio2D(){let t=[];this.speakers.forEach(e=>{const n=e.getDistance(this,this.player);t.push(new Xt(e.source,n,e))});let e=new Map;for(let n of t){let t=e.get(n.source);null!=t?Array.isArray(t)?(t.push(n),e.set(n.source,t)):t.distance>n.distance&&n.distance<=n.speaker.maxDistance&&e.set(n.source,n):n.speaker.type==$t?n.distance<=n.speaker.maxDistance&&e.set(n.source,n):n.distance<=n.speaker.maxDistance&&e.set(n.source,[n])}for(let[t,n]of e){let t=Array.isArray(n)?n:[n];for(let e of t){(await this.getMediaForSource(e.source,e.speaker.startInstant)).updateLocation(e.speaker,this,this.player)}}for(let[t,e]of this.audioMap)this.isMediaUsed(t)||await this.removeMediaFromSource(t)}}class ee{constructor(){this.successCallback=alert,this.errorCallback=alert}getUserMedia(t){return null==navigator.getUserMedia?null==navigator.webkitGetUserMedia?null==navigator.mediaDevices.getUserMedia?null==navigator.msGetUserMedia?void console.error("Unknown user media platform!"):void nnavigator.msGetUserMedia(t,this.successCallback,this.errorCallback):void navigator.mediaDevices.getUserMedia(t).then(t=>this.successCallback(t)).catch(t=>this.errorCallback(t)):void navigator.webkitGetUserMedia(t,this.successCallback,this.errorCallback):void navigator.getUserMedia(t,this.successCallback,this.errorCallback)}}const ne={CHIME:'<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/></svg>',DARK_MODE:'<svg viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" /></svg>',NOTIFICATION:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3" />  <circle cx="16" cy="8" r="3" /></svg>'};var ie={useChimes:!0,darkMode:!0,vcNotifications:!1};class re{constructor(){this.settings={},this.setup()}reload(){let t=document.getElementById("hue-box-ssl");document.getElementById("settings-content").innerHTML="",this.setup(),document.getElementById("settings-content").appendChild(t)}setup(){window.handleSettingsClick=(t,e)=>{this.settings[e].isEnabled=!this.settings[e].isEnabled,this.settings[e].onChange(this.settings[e].isEnabled)},this.registerSetting(new oe("useChimes",ne.CHIME,getMessageString("settings.voicechat.chimes.title"),getMessageString("settings.voicechat.chimes.body"),getMessageString("settings.voicechat.chimes.button"),!0)),this.registerSetting(new oe("darkMode",ne.DARK_MODE,getMessageString("settings.theme.title"),getMessageString("settings.theme.body"),getMessageString("settings.theme.button"),!0,t=>{t?document.body.classList.remove("light-mode"):document.body.classList.add("light-mode")})),this.registerSetting(new oe("vcNotifications",ne.NOTIFICATION,getMessageString("settings.voicechat.peer.title"),getMessageString("settings.voicechat.peer.body"),getMessageString("settings.voicechat.peer.button"),!1))}registerSetting(t){this.settings[t.id]=t}}class oe{constructor(t,e,n,i,r,o,s=(()=>{})){this.htmlId=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,r=0;r<t;r++)e+=n.charAt(it(Math.random()*i));return e}(5),this.id=t,this.onChange=e=>{Cookies.set("settings-"+t,e),ie[t]=e,s(e)},this.isEnabled=void 0===Cookies.get("settings-"+t)?o:"true"===Cookies.get("settings-"+t),this.html='\n        <div class="content-card settings-card">\n           <span>\n            '+e+"\n            "+n+'\n            </span>\n            <div class="content-card-content content-card-content-border-bottom">\n                '+i+'\n            </div>\n            <div class="content-card-buttons">\n                <label class="content-pill status-button">\n                    <input type="checkbox" id="'+this.htmlId+'" '+(this.isEnabled?"checked":"")+" onchange=\"handleSettingsClick(this, '"+this.id+'\')">\n                    <span style="display: inline;">'+r+"</span>\n                </label>\n            </div>\n        </div>",this.settingsPage=document.getElementById("settings-content"),this.settingsPage.innerHTML+=this.html,this.onChange(this.isEnabled)}}let se={};window.handlePeerVolumeEvent=function(t){let e=se[t.id];null!=e&&e(t)};let ae=0;Z();class ue{constructor(t,e,n,i,r){this.openAudioMc=t,this.playerName=e,this.onVolumeChange=r,this.removed=!1;let o='\n        <li id="vc-user-card-'+e+'">\n            <div>\n                <img src="https://visage.surgeplay.com/bust/512/'+n+'" id="vc-user-card-'+e+'-indicator"\n                     class="avatar" alt="Avatar">\n            </div>\n            <div class="flex-1">\n                <div class="flex items-center">\n                    <h1 style="margin-bottom: 10px">\n                        <svg id="vc-user-card-'+e+'-muted" class="red"\n                             style="display: none;"\n                             viewBox="0 0 24 24" fill="none"\n                             stroke="currentColor" stroke-width="2" stroke-linecap="round"\n                             stroke-linejoin="round">\n                            <line x1="1" y1="1" x2="23" y2="23"/>\n                            <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/>\n                            <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/>\n                            <line x1="12" y1="19" x2="12" y2="23"/>\n                            <line x1="8" y1="23" x2="16" y2="23"/>\n                        </svg>\n                        '+e+' <small id="vc-user-card-'+e+'-volume-disp"\n                                           class="soft-text">(35% volume)</small>\n                                   </h1>\n                </div>\n                <div><input id="vc-user-card-'+e+'-volume-input"\n                            oninput="handlePeerVolumeEvent(this)"\n                            class="volume-slider"\n                            type="range" min="0" max="120" step="1" value="35"/></div>\n            </div>\n        </li>\n        ';document.getElementById("vc-call-members").innerHTML+=o,ae++,Z(),se["vc-user-card-"+this.playerName+"-volume-input"]=function(t){this.callingSliderUpdate(t)}.bind(this),setTimeout(()=>{this.updatePlaceholder()},10),Q("vcNotifications")&&this.openAudioMc.notificationModule.sendNotification(getMessageString("notification.voicechat.peeradd.title"),getMessageString("notification.voicechat.peeradd.body",[["%name",this.playerName]]),this.playerName)}callingSliderUpdate(){if(!this.removed){let t=document.getElementById("vc-user-card-"+this.playerName+"-volume-input").value;this.onVolumeChange(t),this.updateVolumeDisplay(t)}}updatePlaceholder(){}remove(){ae--,Z(),this.removed=!0,document.getElementById("vc-call-members").removeChild(document.getElementById("vc-user-card-"+this.playerName)),this.updatePlaceholder(),delete se["vc-user-card-"+this.playerName+"-volume-input"],Q("vcNotifications")&&this.openAudioMc.notificationModule.sendNotification(getMessageString("notification.voicechat.peerdop.title"),getMessageString("notification.voicechat.peerdop.body",[["%name",this.playerName]]),this.playerName)}setVisuallyTalking(t){this.removed||(t?(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor="lime",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="0 0 10pt 2pt lime"):(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor=""))}setVisuallyMuted(t){this.removed||(t?(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.opacity="0.2",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="inline"):(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.opacity="1",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="none"))}updateVolumeDisplay(t){this.removed||(document.getElementById("vc-user-card-"+this.playerName+"-volume-disp").innerText="("+t+"% volume)")}}var ce=n(60);class le{constructor(t,e,n,i,r,o){this.openAudioMc=t,this.server=e,this.streamKey=n,this.peerStreamKey=i,this.volume=r,this.volBooster=1.2,this.uiInst=o,this.harkEvents=null}start(t){let e=this.openAudioMc.voiceModule.peerManager.requestStream(this.peerStreamKey);e.onFinish(e=>{const n=this.openAudioMc.world.player.audioCtx;this.setVolume(this.volume),this.gainNode=n.createGain(),this.audio=new Audio,this.audio.autoplay=!0,this.audio.srcObject=e,this.gainNode.gain.value=this.volume/100*this.volBooster,window.debugAudio=this.audio,this.audio.muted=!0;const i=n.createMediaStreamSource(this.audio.srcObject);if(this.harkEvents=Object(ce.a)(e,{}),this.harkEvents.setThreshold(-75),this.harkEvents.on("speaking",()=>{this.uiInst.setVisuallyTalking(!0)}),this.harkEvents.on("stopped_speaking",()=>{this.uiInst.setVisuallyTalking(!1)}),this.audio.muted=!0,this.openAudioMc.voiceModule.surroundSwitch.isOn()){const t=this.gainNode;this.pannerNode=n.createPanner(),this.pannerNode.maxDistance=this.openAudioMc.voiceModule.blocksRadius,this.pannerNode.panningModel="HRTF",this.pannerNode.rolloffFactor=.95,this.pannerNode.distanceModel="linear",this.pannerNode.coneOuterGain=1,this.pannerNode.coneInnerAngle=120,this.setLocation(this.x,this.y,this.z,!0),i.connect(t),t.connect(this.pannerNode),this.pannerNode.connect(n.destination)}else{const t=this.gainNode;i.connect(t),t.connect(n.destination)}this.audio.play().then(()=>{}).catch(t=>{console.log("Denied from promise",t)}),t()}),e.onReject(t=>{l("Stream for "+this.peerStreamKey+" got denied: "+t)})}setLocation(t,e,n,i){if(this.openAudioMc.voiceModule.useSurround){if(i&&null!=this.pannerNode){new Jt(new Ft(this.x,this.y,this.z)).applyTo(this.pannerNode)}else i&&l("Warning, attempted to update a peer location while the panner node is nil");this.x=t,this.y=e,this.z=n}}setVolume(t){this.volume=t,null!=this.gainNode&&(this.gainNode.gain.value=this.volume/100*this.volBooster)}stop(){null!=this.audio&&(this.audio.pause(),this.audio.src=null,this.audio.srcObject=null,this.gainNode.gain.value=0),null!=this.harkEvents&&this.harkEvents.stop()}}class he{constructor(t,e,n,i,r,o){this.openAudioMc=t,this.playerName=e,this.playerUuid=e,this.streamKey=i,this.active=!0,this.ready=!1,this.location=o,this.volume=80;let s=Cookies.get("vc-volume-of-"+e);null!=s&&(this.volume=parseInt(s)),this.ui=new ue(this.openAudioMc,e,n,this.volume,t=>{this.volume=t,Cookies.set("vc-volume-of-"+e,t,{expires:30}),this.ready&&this.stream.setVolume(this.volume)}),this.stream=new le(t,r,t.voiceModule.streamKey,i,this.volume,this.ui),this.stream.setLocation(o.x,o.y,o.z,!1),this.stream.start(()=>this.active?(this.stream.setVolume(this.volume),void(this.ready=!0)):void this.stop())}updateLocation(t,e,n){this.stream.setLocation(t,e,n,!0)}stop(){null!=this.openAudioMc.voiceModule.peerManager&&this.openAudioMc.voiceModule.peerManager.dropStream(this.streamKey),this.active=!1,this.ui.remove(),null!=this.stream&&this.stream.stop()}}class de{constructor(t,e,n){this.id=t,this.onToggle=n,this.state=null==Cookies.get(t)?e:JSON.parse(Cookies.get(t)),this.setVisuallyActive(this.state),s(()=>{document.getElementById(this.id).checked=!this.state,document.getElementById(this.id).onclick=()=>{this.state=!this.state,Cookies.set(this.id,this.state,{expires:30}),this.onToggle(this.state),this.setVisuallyActive(this.state)}})}setVisuallyActive(t){t?(document.getElementById(this.id).style.backgroundColor="",document.getElementById(this.id).style.color=""):(document.getElementById(this.id).style.backgroundColor="#EF4444",document.getElementById(this.id).style.color="#F3F4F6")}getState(){return this.state}isOn(){return this.state}}class fe{constructor(){this.eventName="",this.params=new Map}fromString(t){this.original=t;let e=t.split("~");for(let t=0;t<e.length;t++)if(0===t)this.eventName=e[t];else{let n=e[t];if(-1!==n.indexOf("=")){let t=n.split("=");this.params.set(t[0],t[1])}}return this}setParam(t,e){return this.params.set(t,e),this}getParam(t){return this.params.get(t)}setEventName(t){return this.eventName=t,Me.isProd||l("Building bus message "+t),this}getEventName(){return this.eventName}serialize(){let t=this.eventName+"~";for(let[e,n]of this.params)t+=e+"="+n+"~";return t}trimmed(){let t=this.eventName.length,e="";for(let n,i=0;i<this.original.length;i++)n=this.original.charAt(i),i<=t||(e+=n);return e}}class pe{constructor(){this.whenFinished=()=>{l("A promised channel got finished before it got used")},this.whenRejected=()=>{l("A promised channel got finished before it got used")},this.error=null,this.payload=null}onFinish(t){return null==this.payload?void(this.whenFinished=t):void t(this.payload)}onReject(t){return null==this.error?void(this.whenRejected=t):void t(this.error)}handleData(t){this.payload=t,this.whenFinished(t)}handleError(t){this.error=t,this.whenRejected(t)}}class ge{constructor(t,e,n,i,r){this.openAudioMc=t,this.server=e,this.micProcessor=r,this.streamKey=n,this.waitingPromises=new Map,this.trackQueue=new Map,this.updateNegotiation=!0,this.micStream=i,this.isMuted=!1,window.onMicMutePress=()=>this.muteCooldown?void Swal.fire({icon:"warning",text:"Please wait a moment before doing this again",backdrop:"",timer:3e3}):void this.setMute(!this.isMuted),this.muteCooldown=!1}onStart(){l("Confluence started"),this.openAudioMc.socketModule.send(gt,{enabled:!0})}dropStream(t){"open"===this.dataChannel.readyState?this.dataChannel.send((new fe).setEventName("DROP_STREAM").setParam("owner",t).serialize()):l("Warning! can't drop a stream because the connection is closed")}requestStream(t){if("open"===this.dataChannel.readyState){let e=new pe;return this.waitingPromises.set(t,e),this.dataChannel.send((new fe).setEventName("REQUEST_STREAM").setParam("owner",t).serialize()),e}{l("Warning! attempted to request a stream for "+t+" but the eb is closed");let e=new pe;return e.handleError("Connection is closed"),e}}initializeRenegotiation(){this.lastNegotiationRequest=performance.now(),this.pcReceiver.createOffer().then(t=>this.pcReceiver.setLocalDescription(t)).then(()=>{let t=JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))}),e=(new fe).setEventName("KICKSTART_RENEG").serialize();e+=t,this.dataChannel.send(e)}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}handleRenagEnd(){if(null!=this.lastNegotiationRequest){let t=performance.now(),e=Math.ceil(t-this.lastNegotiationRequest);l("Renegotiation took "+e+" MS - "+(500<e?"Warning! Renegotiation took too long!":""))}}registerDataChannel(t,e){t.addEventListener("open",()=>{l("Opened RTC event bus")}),t.addEventListener("close",()=>{l("Closed RTC event bus")}),t.addEventListener("message",t=>{const n=t.data;let i=(new fe).fromString(n);switch(Me.isProd||l("Handling bus "+i.getEventName()),i.getEventName()){case"REQUEST_NEG_INIT":l("Server requested renag start"),this.initializeRenegotiation();break;case"NEGOTIATION_RESPONSE":let t=i.trimmed(),n=JSON.parse(t);l("response was "+t.length),this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(n.sdp)))).then(()=>{this.handleRenagEnd(),this.dataChannel.send((new fe).setEventName("CLIENT_CONFIRMED_NEG").serialize())});break;case"PROCESS_OFFER":this.lastNegotiationRequest=performance.now();let r=JSON.parse(i.trimmed());this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(r.sdp)))).then(()=>{this.pcReceiver.createAnswer().then(t=>{var e=(new fe).setEventName("PROCESS_RESPONSE").serialize();e+=btoa(JSON.stringify(t)),this.dataChannel.send(e),this.pcReceiver.setLocalDescription(t).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))});break;case"CONFIRM_NEGOTIATION":this.handleRenagEnd();break;case"NEGOTIATION_CANCELLED":l("Negotiation was ignored, server doesn't think it to be needed.");break;case"OK":null!=e&&e(),this.openAudioMc.voiceModule.peerManager.playInternalSound("assets/unmute.mp3"),l("Received Confluence channel confirmation");break;case"REJECT_REQUEST":let o=i.getParam("owner");l("The server rejected a stream request to "+o),this.waitingPromises.has(o)&&(this.waitingPromises.get(o).handleError("Request got denied by the server"),this.waitingPromises.delete(o));break;case"CONFIRM_REQUEST":this.trackQueue.set(i.getParam("streamid"),i.getParam("owner"));break;case"CONTEXT_EVENT":this.contextEvent(i);break;case"IDENTIFY_SELF":this.dataChannel.send((new fe).setEventName("VERSION").setParam("build",Me.build+"").setParam("author",Me.compiler).setParam("isProd",Me.isProd+"").serialize());break;default:l("Warning! received a rtc packet called "+i.getEventName()+" but I don't have a clue what it does.")}})}contextEvent(t){let e=t.getParam("type");"client-muted"===e?this.openAudioMc.voiceModule.peerMap.get(t.getParam("who")).ui.setVisuallyMuted(!0):"client-unmuted"===e&&this.openAudioMc.voiceModule.peerMap.get(t.getParam("who")).ui.setVisuallyMuted(!1)}onInternalTrack(t,e,n){let i=t.id;if(!t.active)return void l("Received an inactive track! cancelling.");if(!this.trackQueue.has(i))return void l("Received an unknown track called "+i+". Ignoring it.");let r=this.trackQueue.get(i),o=this.waitingPromises.get(r);return null==o?void(e?l("Got a stream that doesn't seem to be asked for, skipping it. it was "+i):(l("Got a stream that doesn't seem to be asked for, trying again in 1s"),setTimeout(()=>{this.onInternalTrack(t,!0,n)},1e3))):(o.handleData(t),this.waitingPromises.delete(r),void this.trackQueue.delete(i))}async setup(t){let e=this.server+"webrtc/confluence/sdp/m/"+tokenCache.publicServerKey+"/pu/"+tokenCache.uuid+"/pn/"+tokenCache.name+"/sk/"+this.streamKey;this.pcReceiver=new RTCPeerConnection;let n=!1,i=t=>{if("connected"===this.pcReceiver.connectionState||"connected"===t.target.iceConnectionState){if(n)return;n=!0,this.onStart()}};this.pcReceiver.oniceconnectionstatechange=i,this.pcReceiver.addEventListener("connectionstatechange",i),this.pcReceiver.onnegotiationneeded=()=>{l("Finished negotiation round")},this.dataChannel=this.pcReceiver.createDataChannel("eb"),this.registerDataChannel(this.dataChannel,t),this.listenForTracks();const r=this.micStream.getTracks();for(let t=0;t<r.length;t++)this.pcReceiver.addTrack(this.micStream.getTracks()[t]);this.pcReceiver.createOffer().then(t=>this.pcReceiver.setLocalDescription(t)).then(()=>{fetch(e,{method:"POST",body:JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))})}).then(t=>{200===t.status?t.json().then(t=>{this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(t.Sdp))))}):(Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:"Connection error",text:"Something went wrong while connecting to the OpenAudioMc voice service. Please try again in a minute or so.",footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'}),t.json().then(e=>{this.openAudioMc.voiceModule.handleCrash("RTC connection error, received status body "+JSON.stringify(e)+" "+t.status)}))}).catch(t=>{console.error(t),this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))}),window.rtcHook=this.pcReceiver}async playInternalSound(t){if(!Q("useChimes"))return void l("Chimes are disabled");l("Playing internal sound "+t);const e=new yt(t),n=new It;n.openAudioMc=this.openAudioMc,n.setOa(this.openAudioMc),await n.load(t),n.setOnFinish(()=>{this.openAudioMc.mediaManager.mixer._updatePlayingSounds(),this.openAudioMc.mediaManager.mixer.removeChannel(t)}),n.finalize().then(()=>{this.openAudioMc.mediaManager.mixer.addChannel(e),e.addSound(n),e.setChannelVolume(100),e.updateFromMasterVolume(),n.finish()})}setMute(t){if(this.muteCooldown)Swal.fire("Please wait a moment before doing this again");else{t?this.playInternalSound("assets/mute.mp3"):this.playInternalSound("assets/unmute.mp3"),this.isMuted=t,this.setVisualMuteState(!t),this.muteCooldown=!0,setTimeout(()=>{this.muteCooldown=!1},500);for(let e=0;e<this.micStream.getAudioTracks().length;e++)this.micStream.getAudioTracks()[e].enabled=!t;t?(this.openAudioMc.voiceModule.microphoneProcessing.onMute(),this.openAudioMc.voiceModule.pushSocketEvent(be.MIC_MUTE),this.dataChannel.send((new fe).setEventName("CONTEXT_EVENT").setParam("type","muted-stream").serialize())):(this.openAudioMc.voiceModule.microphoneProcessing.onUnmute(),this.openAudioMc.voiceModule.pushSocketEvent(be.MIC_UNMTE),this.dataChannel.send((new fe).setEventName("CONTEXT_EVENT").setParam("type","unmuted-stream").serialize()))}}setVisualMuteState(t){t?(document.getElementById("vc-mic-mute").style.backgroundColor="",document.getElementById("vc-mic-mute").style.color=""):(document.getElementById("vc-mic-mute").style.backgroundColor="#EF4444",document.getElementById("vc-mic-mute").style.color="#F3F4F6")}stop(){this.micStream.getTracks().forEach((function(t){t.stop()})),this.pcReceiver.close()}listenForTracks(){this.pcReceiver.addEventListener("track",t=>{for(let e=0;e<t.streams.length;e++){if("dead-mans-track"===t.streams[e].id)return;t.track.onended=()=>{this.dataChannel.send((new fe).setEventName("SCHEDULE_RENAG").serialize())},this.onInternalTrack(t.streams[e],!1,t.track)}})}}var me=n(133),ve=n.n(me);class ye{constructor(t,e,n){this.openAudioMc=t,this.stream=n,this.voiceModule=e,this.id="visual-speaking-indicator",this.startedTalking=null,this.shortTriggers=0,this.isStreaming=!1,this.isMuted=!1,this.harkEvents=Object(ce.a)(this.stream,{}),this.gainController=new ve.a(n),this.gainController.on(),this.loadDefaults(),this.longSessions=0,this.checkLoop=setInterval(()=>{if(this.isSpeaking){10<((new Date).getTime()-this.startedTalking)/1e3&&(this.longSessions++,this.startedTalking=(new Date).getTime()),1<this.longSessions&&(this.decreaseSensitivity(),this.longSessions=0,this.startedTalking=(new Date).getTime())}},500),this.hookListeners()}updateSensitivity(t){let e=-et(t);this.harkEvents.setThreshold(e),Cookies.set("mic-sensitivity",e+"",{expires:30}),this.currentThreshold=this.harkEvents.getThreshold()}decreaseSensitivity(){if(!this.enabledAutoAdjustments)return;let t=et(this.currentThreshold);t-=5,this.updateSensitivity(t),document.getElementById("mic-sensitive-slider").value=t}onMute(){this.isMuted=!0,this.isSpeaking&&this.shouldStream(!1)}onUnmute(){this.isMuted=!1,this.isSpeaking&&this.shouldStream(!0)}onSpeakStart(){this.isMuted||this.shouldStream(!0)}onSpeakEnd(){this.isMuted||this.shouldStream(!1)}stop(){this.harkEvents.stop(),clearInterval(this.checkLoop)}shouldStream(t){t?(!this.isStreaming&&(this.isStreaming=!0,"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&this.openAudioMc.voiceModule.peerManager.dataChannel.send((new fe).setEventName("DISTRIBUTE_RTP").serialize())),document.getElementById(this.id).style.backgroundColor="lime",document.getElementById(this.id).style.boxShadow="0 0 10pt 2pt lime",clearTimeout(this.haltRtpTask)):(this.haltRtpTask=setTimeout(()=>{"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&(this.isStreaming=!1,this.openAudioMc.voiceModule.peerManager.dataChannel.send((new fe).setEventName("HALT_RTP").serialize()))},500),document.getElementById(this.id).style.boxShadow="",document.getElementById(this.id).style.backgroundColor="")}loadDefaults(){this.enabledAutoAdjustments="enabled"===Cookies.get("mic-sensitivity-bot"),document.getElementById("enable-auto-adjustments").checked=this.enabledAutoAdjustments,document.getElementById("enable-auto-adjustments").onchange=t=>{t.target.checked?(this.enabledAutoAdjustments=!0,Cookies.set("enable-auto-adjustments","enabled",{expires:30})):(this.enabledAutoAdjustments=!1,Cookies.set("enable-auto-adjustments","disabled",{expires:30}))};let t=Cookies.get("mic-sensitivity");null!=t&&(t=parseInt(t),this.harkEvents.setThreshold(t)),document.getElementById("mic-sensitive-slider").value=et(this.harkEvents.getThreshold()),this.currentThreshold=this.harkEvents.getThreshold(),this.isSpeaking=!1,this.harkEvents.setInterval(5),document.getElementById("mic-sensitive-slider").oninput=t=>{this.updateSensitivity(t.target.value)}}hookListeners(){this.harkEvents.on("speaking",()=>{this.isSpeaking=!0,this.startedTalking=(new Date).getTime(),this.onSpeakStart()}),this.harkEvents.on("stopped_speaking",()=>{this.isSpeaking=!1,this.onSpeakEnd(),1.5>((new Date).getTime()-this.startedTalking)/1e3?(this.shortTriggers++,25<this.shortTriggers&&(this.decreaseSensitivity(),this.shortTriggers=0)):this.shortTriggers=0})}}const be={MIC_MUTE:"MICROPHONE_MUTED",MIC_UNMTE:"MICROPHONE_UNMUTE"};class we{constructor(t){this.openAudioMc=t,this.peerManager=null,this.peerMap=new Map,this.loadedDeviceList=!1,this.loadeMicPreference=Cookies.get("preferred-mic"),this.surroundSwitch=new de("use-surround",!0,t=>{this.openAudioMc.socketModule.send(gt,{enabled:!1}),this.useSurround=t,this.onSurrroundUpdate()}),this.useSurround=this.surroundSwitch.isOn(),l("Booted voice module")}enable(t,e,n){this.blocksRadius=n,this.server=t,this.streamKey=e,i("{{ navbar.vc_button }}","","style"),r("{{ vc.onboarding }}",window.getMessageString("vc.onboarding",[["%range",this.blocksRadius+""]])),document.getElementById("vc-connect-button").onclick=()=>{this.consent(this.loadeMicPreference)}}addPeer(t,e,n,i){this.peerMap.set(n,new he(this.openAudioMc,e,t,n,this.server,i))}peerLocationUpdate(t,e,n,i){this.peerMap.has(t)&&this.peerMap.get(t).updateLocation(e,n,i)}removeAllPeers(){for(let[t,e]of this.peerMap)this.removePeer(t)}removePeer(t){if(this.peerMap.has(t)){let e=this.peerMap.get(t);this.peerMap.delete(t),e.stop()}else l("Couldn't remove peer "+t+" because, well, there is no such peer")}onSurrroundUpdate(){this.openAudioMc.socketModule.send(gt,{enabled:!1}),Swal.fire({title:window.getMessageString("vc.reloadingPopupTitle"),html:window.getMessageString("vc.reloadingPopup"),timer:3500,showCloseButton:!1,backdrop:"",showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(t=>{t.dismiss===Swal.DismissReason.timer&&this.openAudioMc.socketModule.send(gt,{enabled:!0})})}handleCrash(t){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong while starting your voice chat session. Please report this problem and try again later.",backdrop:""}),C("Something went wrong while enabling voicechat. Error: "+t,window.tokenCache.name)}handleAudioPermissions(t){document.getElementById("voice-settings-container").style.display="",this.loadedDeviceList||(navigator.mediaDevices.enumerateDevices().then(t=>{let e=[];for(let n,i=0;i<t.length;i++)n=t[i],"audioinput"===n.kind&&e.push({name:n.label,id:n.deviceId});this.loadedDevices(e)}).catch(t=>{console.error(t),this.handleCrash(JSON.stringify(t.toJSON()))}),this.loadedDeviceList=!0),Swal.fire({backdrop:"",title:window.getMessageString("vc.startingPopupTitle"),html:window.getMessageString("vc.startingPopup"),showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()}}),this.microphoneProcessing=new ye(this.openAudioMc,this,t),this.peerManager=new ge(this.openAudioMc,this.server,this.streamKey,t,this.microphoneProcessing),this.peerManager.setup(this.onOutoingStreamStart).catch(t=>{this.handleCrash(JSON.stringify(t.toJSON()))}),u(()=>{l("Enabling rtc debugging"),window.debugUi.addPanel(ut.RTC,()=>"waitingPromises="+this.peerManager.waitingPromises.size+", trackQueue="+this.peerManager.trackQueue.size+", state="+this.peerManager.pcReceiver.connectionState+", ice="+this.peerManager.pcReceiver.iceConnectionState+", isSpeaking="+this.microphoneProcessing.isSpeaking+", transceivers="+this.peerManager.pcReceiver.getTransceivers().length+", muxPolicy="+this.peerManager.pcReceiver.getConfiguration().rtcpMuxPolicy)})}changeInput(t){l("Stopping current streamer, and restarting with a diferent user input"),Cookies.set("preferred-mic",t,{expires:30}),this.peerManager.setMute(!1),this.peerManager.stop(),this.microphoneProcessing.stop(),this.peerManager=null,this.openAudioMc.socketModule.send(gt,{enabled:!1}),Swal.fire({backdrop:"",title:window.getMessageString("vc.updatingMicPopupTitle"),html:window.getMessageString("vc.updatingMicPopup"),timer:3500,showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(e=>{e.dismiss===Swal.DismissReason.timer&&this.consent(t)})}loadedDevices(t){let e=document.getElementById("vc-mic-select");for(;0<e.options.length;)e.remove(0);for(let n=0;n<t.length;n++){let i=t[n],r=document.createElement("option");null==this.loadeMicPreference&&0==n&&(r.selected=!0),r.value=i.id,r.innerText=i.name,r.dataset.deviceId=i.id,e.add(r)}null!=this.loadeMicPreference&&(e.value=this.loadeMicPreference),e.onchange=t=>{let e=t.target.value;this.changeInput(e)}}onOutoingStreamStart(){Swal.close()}consent(t){document.getElementById("voicechat-onboarding").style.display="none";let e=t?{audio:{deviceId:{exact:t},noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}}:{audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}},n=new ee;n.successCallback=function(t){this.openAudioMc.voiceModule.handleAudioPermissions(t)}.bind(this),n.errorCallback=function(e){return null==t?(console.error(e),"OverconstrainedError"===e.name||e instanceof OverconstrainedError?(l("Couldn't get microphone, ignoring and trying again"),void this.consent(null)):void this.openAudioMc.voiceModule.permissionError(e)):(Cookies.remove("preferred-mic"),void this.consent(null))}.bind(this),n.getUserMedia(e)}permissionError(){i("{{ navbar.vc_button }}","displey: none;","style"),document.getElementById("tab1").click(),Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:window.getMessageString("vc.micErrorPopupTitle"),text:window.getMessageString("vc.micErrorPopup"),footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'})}shutDown(){null!=this.peerManager&&this.peerManager.stop(),null!=this.microphoneProcessing&&this.microphoneProcessing.stop();for(let[t,e]of this.peerMap)e.stop()}pushSocketEvent(t){null!=this.peerManager&&this.openAudioMc.socketModule.send(gt,{event:t})}blurWithReason(){r("{{ oam.vc.disabled }}",window.getMessageString("vc.disabled"),[["%server",this.openAudioMc.serverName]])}unblur(){}}class Se{constructor(){this.messages={},this.seeded=!1,this.seededValues=[],this.currentLangFile="",this.forcedValues={},this.languageMappings={gb:"en.lang",us:"en.lang",nl:"nl.lang",be:"nl.lang",sp:"es.lang",es:"es.lang",fr:"fr.lang"},window.getMessageString=this.getString,window.debugHooks.loadLanguage=this.load}setKey(t,e){this.forcedValues[t]=e}async handleCountry(t){t=t.toLowerCase();let e=this.languageMappings[t];null!=e&&(l("Switching to "+t+" > "+e),await this.load(e))}updateBanner(){if(Cookies.get("preferred-lang")===this.currentLangFile)return void(document.getElementById("lang-change-banner").style.display="none");let t=[["%langName",getMessageString("lang.name")]];r("{{ ui.lang.detectedAs }}",getMessageString("lang.detectedAs",t)),r("{{ ui.lang.toEn }}",getMessageString("lang.toEn",t)),r("{{ ui.lang.keep }}",getMessageString("lang.keep",t)),document.getElementById("lang-back-to-en").onclick=()=>{this.load("en.lang").then(()=>console.log),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-keep").onclick=()=>{Cookies.set("preferred-lang",this.currentLangFile,{expires:30}),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-change-banner").style.display=""}getString(t,e=[]){let n=window.openAudioMc.messageModule.messages[t];if(null==n)return l("Couldn't find message key "+t),"?? "+t+" ??";let i=window.openAudioMc.messageModule.forcedValues[t];null!=i&&(n=i);for(let t=0;t<e.length;t++)n=n.replace(e[t][0],e[t][1]);return n}renderKeyToDom(t,e,n=[]){let i=this.getString(e,n),o=window.openAudioMc.messageModule.forcedValues[t];null!=o&&(i=o),r(t,i,!0)}seedStatic(t){let e=function(t){function e(){var t=[];return function e(n){if(n.childNodes.length)for(var i=0;i<n.childNodes.length;i++)e(n.childNodes[i]);else n.nodeType===Node.TEXT_NODE&&t.push(n)}(document),t}let n=[];for(let i,r=0;r<e().length;r++)i=e()[r],-1!==i.nodeValue.indexOf(t)&&n.push(i.nodeValue);return n}("{%"),n={};for(let t=0;t<e.length;t++){var i=e[t];let r="",o=!1;for(let t of i)o?r+=t:" "!==t&&"\n"!==t&&(o=!0,r+=t);n[i=r]=i.split(" ")[1]}for(let e in n)this.seededValues.push({key:e,value:n[e],placeholders:t}),this.renderKeyToDom(e,n[e],t);this.seeded=!0}async fetchWithFailover(t,e=!1){let n=(window.location.pathname+window.location.search).split("?")[0];-1!==n.indexOf(".html")&&(n=n.substring(0,n.lastIndexOf("/")+1));let i=e?kt.CONTENT_PROXY+"https://client.openaudiomc.net/":n,r=await fetch(i+t+"?v=848");return 200===r.status||e?(await r.text()).split("\n"):(l("Using fetch fail over for lang"),await window.openAudioMc.messageModule.fetchWithFailover(t,!0))}async load(t){if(this.currentLangFile===t)return;let e=[];e=await window.openAudioMc.messageModule.fetchWithFailover(t);for(let t,n=0;n<e.length;n++){if(t=e[n],t.startsWith("#")||5>t.length)continue;let i=!1,r="",o="";for(let e,n=0;n<t.length;n++)e=t[n],i?o+=e:"="===e?i=!0:r+=e;""!==o&&(window.openAudioMc.messageModule.messages[r]=o)}if(this.currentLangFile=t,window.openAudioMc.messageModule.seeded){for(let t,e=0;e<window.openAudioMc.messageModule.seededValues.length;e++)t=window.openAudioMc.messageModule.seededValues[e],window.openAudioMc.messageModule.renderKeyToDom(t.key,t.value,t.placeholders);window.openAudioMc.messageModule.updateBanner()}window.openAudioMc.settingsManager&&window.openAudioMc.settingsManager.reload()}}n.d(e,"OpenAudioEnv",(function(){return Me})),n.d(e,"OpenAudioMc",(function(){return xe}));const Me={build:"848",compiler:"Mats",platform:"Production",environment:"macOS",isProd:JSON.parse("true"),envDescription:"default-prod"};window.debugHooks={},u(()=>{window.debugUi.addPanel(ut.UI,()=>"componentElementCache="+Object.keys(st).length+", propertyCache="+Object.keys(at).length)});class xe extends class extends class{constructor(){console.log("%c Made with love. Take note! this is a bundled version of OpenAudioMc. To get the full source code, please visit https://github.com/Mindgamesnl/OpenAudioMc","background: linear-gradient(#D33106, #571402);border: 1px solid #3E0E02;color: white;display: block;text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 5px 3px -5px rgba(0, 0, 0, 0.5), 0 -13px 5px -10px rgba(255, 255, 255, 0.4) inset;line-height: 40px;text-align: center;font-weight: bold"),this.log("Enabling the web client for "+window.navigator.userAgent)}}{log(t){l(t)}getMessages(){return this.messages}getTimeService(){return this.timeService}getHueConfiguration(){return this.hueConfiguration}debugPrint(t){this.log(t)}getMediaManager(){return this.mediaManager}getHueModule(){return this.hueModule}getUserInterfaceModule(){return this.userInterfaceModule}}{constructor(){if(super(),l("Starting build "+JSON.stringify(Me)),this.messageModule=new Se,this.canStart=!1,this.host=null,this.background=null,this.ambianceSound="",this.isPatreon=!1,this.tokenSet=(new Ct).fromCache(),null==this.tokenSet)return void l("Stopping with bad auth");l("Resuming boot"),this.notificationModule=new Gt(this),this.timeService=new ft,this.userInterfaceModule=new pt(this),this.hueConfiguration=new jt(this),this.mediaManager=new Nt(this),this.voiceModule=new we(this),$("preparing session, welcome "+this.tokenSet.name),l("Setting direcot");const t=new zt(kt.MAIN_BACKEND);l("Calling route"),t.route(this).then(async t=>{if($("Loading language, welcome "+this.tokenSet.name),await this.messageModule.load("en.lang"),"Notification"in window&&this.notificationModule.setupPermissions(),this.hueModule=new vt(this,Object(Ht.a)()),this.settingsManager=new re(this),this.messageModule.seedStatic([["%player",this.tokenSet.name],["%server",t.serverName]]),t.useTranslations){l("Enabling automatic translations");try{await this.messageModule.handleCountry(new Intl.Locale(navigator.language).language)}catch(e){console.error("Failed to load translations ",e)}}this.serverName=t.serverName,this.canStart=!0,this.host=t.host,this.background=t.background,this.ambianceSound=t.ambianceSound,this.isPatreon=t.isPatreon,l("Server: "+t.serverName),u(()=>{window.debugUi.addPanel(ut.ACCOUNT,"cached="+t.fromCache+", pc="+t.playerCount+", claimed="+t.claimed+", sfu="+t.host+", rtc="+t.rtc)});let e=Cookies.get("volume");null==e?this.mediaManager.changeVolume(25):this.mediaManager.changeVolume(e),this.isPatreon?(l("This server is supporting the project on Patreon! that's awesome!"),document.getElementById("premium-pill").style.display=""):document.getElementById("free-pill").style.display="",r("{{ craftmend.account.serverName }}",t.serverName),setTimeout(()=>{i("{{ oam.loader_style }}","display: none;","style")},250)}).catch(t=>{console.error(t),console.error("Exception thrown",t.stack),this.userInterfaceModule.kickScreen("Your current URL appears to be invalid. Please request a new one in-game using the /audio command. If this issue if persists please contact a member of staff.")})}showLoginScreen(){i("{{ oam.loader_style }}","display: -;","style"),i("{{ oam.login_style }}","display: -;","style")}async start(){this.canStart&&(this.canStart=!1,this.world=new te(this),this.socketModule=new Rt(this,this.host),await this.mediaManager.setupAmbianceSound(this.ambianceSound),this.mediaManager.postBoot(),new Lt(this),""!==this.background&&(i("{{ oam.side_image }}",this.background),i("{{ oam.bg_image_map }}","--bg-map:url('"+this.background+"');")),this.mediaManager.postBoot())}sendError(t){C(t,this.tokenSet.name)}}$("loading the client..."),window.onload=function(){$("loading assets..."),Me.isProd||a(),u(()=>{window.debugUi.addPanel(ut.LOG,()=>dt.join("\n"))}),i("{{ oam.side_image }}","assets/bg.jpg","src"),i("{{ oam.logo_image }}","assets/logo.png","src"),i("{{ oam.bg_image_map }}","--bg-map:url('../assets/bg.jpg');","style"),r("{{ oam.hue_bridge_name }}","No bridge"),$("logging in..."),(new Ct).initialize().then(t=>null==t?(i("{{ oam.loader_style }}","display: -;","style"),i("{{ oam.login_style }}","display: -;","style"),i("{{ oam.loader_status }}","display: none;","style"),void C("A faulty login attempt was done at "+window.location.host,"Steve")):(u(()=>{window.debugUi.addPanel(ut.SESSION,t.name+"@"+t.publicServerKey+"/"+t.scope)}),null!=t&&null!=t.name&&(i("{{ oam.player_head }}","https://visage.surgeplay.com/bust/"+t.uuid+"?overlay","src"),r("{{ oam.player_name }}",t.name),Wt=new xe,window.openAudioMc=Wt),void document.body.addEventListener("click",X))).catch(console.error)},window.onhashchange=()=>window.location.reload(),"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach((function(e){t[e]=this[e]}),this),t},configurable:!0,writable:!0})}]);